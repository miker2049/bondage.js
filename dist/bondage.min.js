var bondage;bondage=(()=>{var t={972:(t,e,s)=>{const n=s(249),i=s(465),r=s(155),o=s(290).i8,a=e.Jison=e;function l(t,e){const s={...t.options,...e};switch(s.type){case"lr0":return new b(t,s);case"slr":return new E(t,s);case"lr":case"lr1":return new k(t,s);case"ll":return new N(t,s);case"lalr":default:return new _(t,s)}}function h(t,e){const s=new Set(t);let n=!1;for(const i of e)s.has(i)||(n=0!==t.push(i)||n);return n}a.version=o,a.print=console.log,a.Generator=l,a.Parser=function(t,e){return l(t,e).createParser()};class c{constructor(t){this.symbol=t,this.productions=[],this.first=[],this.follows=[],this.nullable=!1}toString(){return[this.symbol,this.nullable?"nullable":"not nullable","Firsts: "+this.first.join(", "),"Follows: "+this.follows.join(", "),"Productions:\n  "+this.productions.join("\n  ")].join("\n")}}class u{constructor(t,e,s){this.symbol=t,this.handle=e,this.id=s,this.nullable=!1,this.first=[],this.precedence=0}toString(){return this.symbol+" -> "+this.handle.join(" ")}}function p(t,e,s,n,i){let r;if(Array.isArray(e)){if(r="string"==typeof e[0]?e[0].trim().split(" "):e[0].slice(0),r.forEach(n),"string"==typeof e[1]||3==e.length){const s="case "+t+":";let n=e[1];if(/[$@][a-zA-Z]/.test(n)){const t={},e={};for(let s=0;s<r.length;s++){let n=r[s].match(/\[[a-zA-Z][a-zA-Z0-9_-]*\]/);n?(n=n[0].slice(1,-1),r[s]=r[s].substr(0,r[s].indexOf("["))):n=r[s],e[n]?e[n+ ++t[n]]=s+1:(e[n]=s+1,e[n+"1"]=s+1,t[n]=1)}n=n.replace(/([@$])([a-zA-Z][a-zA-Z0-9_]*)/g,((t,s,n)=>e[n]?s+e[n]:t))}n=n.replace(/([^'"])\$\$|^\$\$/g,"$1this.$").replace(/@[0$]/g,"this._$").replace(/\$(-?\d+)/g,((t,e)=>"$$[$0"+(parseInt(e,10)-r.length||"")+"]")).replace(/@(-?\d+)/g,((t,e)=>"_$[$0"+(e-r.length||"")+"]")),n in i?i[n].push(s):i[n]=[s]}r=r.map((t=>t.replace(/\[[a-zA-Z_][a-zA-Z0-9_-]*\]/g,"")))}else r=e.replace(/\[[a-zA-Z_][a-zA-Z0-9_-]*\]/g,"").trim().split(" "),r.forEach(n);return new u(s,r,t)}class d extends class{constructor(t,e){"string"==typeof t&&(t=i.parse(t));const s={...t.options,...e};this.DEBUG=s.debug||!1,this.terms=Object.create(null),this.symbols=[],this.operators=Object.create(null),this.productions=[],this.conflicts=0,this.resolutions=[],this.options=s,this.parseParams=t.parseParams,this.yy={},t.actionInclude&&(this.actionInclude="function"==typeof t.actionInclude?String(t.actionInclude).replace(/^\s*function\s*\(\) \{/,"").replace(/\}\s*$/,""):t.actionInclude),this.moduleInclude=t.moduleInclude||"",this.processGrammar(t),this.lexer=t.lex?new n(t.lex,null,this.terminals_):null}processGrammar(t){this.DEBUG&&this.trace("Processing grammar.");let e=t.bnf,s=t.tokens;this.nonterminals=Object.create(null),!e&&t.ebnf&&(e=i.transform(t.ebnf)),s&&(s="string"==typeof s?s.trim().split(" "):s.slice(0)),this.operators=function(t){const e=Object.create(null);if(t)for(let s,n=0;s=t[n];n++)for(let t=1;t<s.length;t++)e[s[t]]={precedence:n+1,assoc:s[0]};return e}(t.operators),this.buildProductions(e,this.productions,this.nonterminals,this.symbols,this.operators),s&&this.terminals.length!==s.length&&(this.trace("Warning: declared tokens differ from tokens found in rules."),this.trace(this.terminals),this.trace(s)),this.augmentGrammar(t)}augmentGrammar(t){if(0===this.productions.length)throw new Error("Grammar error: must have at least one rule.");if(this.startSymbol=t.start||t.startSymbol||this.productions[0].symbol,!this.nonterminals[this.startSymbol])throw new Error("Grammar error: startSymbol must be a non-terminal found in your grammar.");this.EOF="$end";const e=new u("$accept",[this.startSymbol,"$end"],0);if(this.productions.unshift(e),this.symbols.unshift("$accept",this.EOF),this.symbols_.$accept=0,this.symbols_[this.EOF]=1,this.terminals.unshift(this.EOF),this.nonterminals.$accept=new c("$accept"),this.nonterminals.$accept.productions.push(e),this.nonterminals[this.startSymbol].follows.push(this.EOF),this.DEBUG)for(const[t,e]of Object.entries(this.symbols))this.trace(`${e}(${t})`)}buildProductions(t,e,s,n,i){const r=Object.create(null),o=[0],a=[],l=Object.create(null),h=Object.create(null);let u=1,d=!1,y=["/* this == yyval */",this.actionInclude||"","var $0 = $$.length - 1;","switch (yystate) {"];function f(t){"error"===t&&(d=!0),t&&!h[t]&&(h[t]=++u,n.push(t))}f("error"),d=!1;for(const n of Object.keys(t)){f(n),s[n]=new c(n);const a="string"==typeof t[n]?t[n].split(/\s*\|\s*/g):t[n].slice(0);for(const t of a){const a=p(e.length+1,t,n,f,r);if(Array.isArray(t)){const e=1+("string"==typeof t[1]||3==t.length);t[e]&&i[t[e].prec]&&(a.precedence=i[t[e].prec].precedence)}if(0===a.precedence)for(const t of a.handle)t in s==0&&t in i&&(a.precedence=i[t].precedence);s[n].productions.push(a),e.push(a),o.push([h[a.symbol],""===a.handle[0]?0:a.handle.length])}}for(const t in r)y.push(r[t].join(" "),t,"break;");for(const[t,e]of Object.entries(h))t in s==0&&(a.push(t),l[e]=t);this.hasErrorRecovery=d,this.terminals=a,this.terminals_=l,this.symbols_=h,this.productions_=o,y.push("}"),y=y.join("\n").replace(/YYABORT/g,"return false").replace(/YYACCEPT/g,"return true"),this.performAction="function("+["yytext","yyleng","yylineno","yy","yystate /* action[1] */","$$ /* vstack */","_$ /* lstack */",...this.parseParams||[]]+") {\n"+y+"\n}"}createParser(){throw new Error("Calling abstract method.")}trace(...t){this.DEBUG&&a.print(...t)}warn(...t){a.print(...t)}error(t){throw new Error(t)}}{computeLookaheads(){this.computeLookaheads=()=>{},this.nullableSets(),this.firstSets(),this.followSets()}followSets(){const{productions:t,nonterminals:e}=this;let s=!0;for(;s;){s=!1;for(const n of t){const t=this.go_;for(let i,r=0;i=n.handle[r];++r){if(i in e==0)continue;const o=!t||this.nterms_[i]===this.go_(n.symbol,n.handle.slice(0,r));let a;r===n.handle.length+1&&o?a=e[n.symbol].follows:(a=this.first(n.handle,r+1),this.nullable(n.handle,r+1)&&o&&a.push(...e[n.symbol].follows)),h(e[i].follows,a)&&(s=!0)}}}}first(t,e=0){if(""===t)return[];if(Array.isArray(t)){const s=new Set;for(let n,i=e;(n=t[i])&&(n in this.nonterminals?this.nonterminals[n].first.forEach(s.add,s):s.add(n),this.nullable(n));i++);return[...s]}return t in this.nonterminals?this.nonterminals[t].first:[t]}firstSets(){const{productions:t,nonterminals:e}=this;let s=!0;for(;s;){s=!1;for(const e of t){const t=this.first(e.handle);t.length!==e.first.length&&(e.first=t,s=!0)}for(const t of Object.keys(e)){const n=new Set;for(const s of e[t].productions)s.first.forEach(n.add,n);n.size!==e[t].first.length&&(e[t].first=[...n],s=!0)}}}nullable(t,e=0){if(""===t)return!0;if(Array.isArray(t)){for(let s=e;s<t.length;s++)if(!this.nullable(t[s]))return!1;return!0}return t in this.nonterminals&&this.nonterminals[t].nullable}nullableSets(){let{productions:t,nonterminals:e}=this,s=!0;for(;s;){s=!1;for(const e of t)e.nullable||this.nullable(e.handle)&&(e.nullable=!0,s=!0);for(const t in e)if(!this.nullable(t))for(const n of e[t].productions)n.nullable&&(e[t].nullable=!0,s=!0)}}}class y extends d{buildTable(){this.states=this.canonicalCollection(),this.table=this.parseTable(this.states),this.defaultActions=f(this.table)}closureOperation(t){const{nonterminals:e}=this,s=new this.ItemSet(...t);for(const t of s){const n=t.markedSymbol;if(n in e)for(const t of e[n].productions)s.push(new this.Item(t,0));else n?(s.shifts=!0,s.inadequate=s.reductions.length>0):(s.reductions.push(t),s.inadequate=s.reductions.length>1||s.shifts)}return s}gotoOperation(t,e){const s=new this.ItemSet;for(const n of t)n.markedSymbol===e&&s.push(new this.Item(n.production,n.dotPosition+1,n.follows));return 0===s.length?s:this.closureOperation(s)}canonicalCollection(){const t=new this.Item(this.productions[0],0,[this.EOF]),e=this.closureOperation(new this.ItemSet(t)),s=[e];s.has=Object.create(null),s.has[e]=0;for(const t of s)for(const e of t)e.markedSymbol&&e.markedSymbol!==this.EOF&&this.canonicalCollectionInsert(t,e.markedSymbol,s);return s}canonicalCollectionInsert(t,e,s){const n=this.gotoOperation(t,e);if(n.length>0){const i=n.valueOf();i in s.has?t.edges[e]=s.has[i]:(t.edges[e]=s.length,s.has[i]=s.length,s.push(n))}}parseTable(t){const e=[],s=t.map(((t,s)=>{const n=Object.create(null);for(const e in t.edges)for(const s of t)if(s.markedSymbol===e){const s=t.edges[e];this.nonterminals[e]?n[this.symbols_[e]]=s:n[this.symbols_[e]]=[1,s]}for(const e of t)e.markedSymbol===this.EOF&&(n[this.symbols_[this.EOF]]=[3]);for(const i of t.reductions){const r=this.lookAheads?this.lookAheads(t,i):this.terminals;for(const t of r){let r=n[this.symbols_[t]];if(r&&r.length){const n=this.operators[t],o=m(i.production,n,[2,i.production.id],Array.isArray(r[0])?r[0]:r);this.resolutions.push([s,t,o]),o.bydefault?(this.conflicts++,this.DEBUG||(e.push(s),this.warn("Conflict in grammar: multiple actions possible when lookahead token is ",t," in state ",s,"\n- ",g(o.reduce,this),"\n- ",g(o.shift,this))),this.options.noDefaultResolve&&(Array.isArray(r[0])||(r=[r]),r.push(o.reduce))):r=o.action}else r=[2,i.production.id];r&&r.length?n[this.symbols_[t]]=r:0===r&&(n[this.symbols_[t]]=void 0)}}return n}));if(!this.DEBUG&&e.length>0){this.warn("\nStates with conflicts:");for(const s in e)this.warn("State "+s),this.warn("  ",t[s].join("\n  "))}return s}parseError(t,e){if(!e.recoverable){const s=new Error(t);throw s.hash=e,s}this.trace(t)}generateModule(t){const e=(t={...this.options,...t}).moduleName||"parser";return"/* parser generated by jison "+o+" */\n"+(e.match(/\./)?e:"var "+e)+" = (function(){\n"+this.generateModuleExpr()+'\nconst parser = new Parser;\nif (typeof module !== "undefined" && typeof exports === "object") module.exports = exports = parser\nreturn parser;\n})()'}generateModuleExpr(){const t=this.generateModule_();let e="";return e+=t.commonCode,e+="\nconst parserPrototype = "+t.moduleCode,e+="\n"+this.moduleInclude,this.lexer&&this.lexer.generateModule&&(e+=this.lexer.generateModule(),e+="\nparserPrototype.lexer = lexer;"),e+="\nfunction Parser() {\n  this.yy = {};\n}\nParser.prototype = parserPrototype;parserPrototype.Parser = Parser;",e}generateModule_(){let t=String(r);this.hasErrorRecovery||(t=t.replace(/\/\*\* @cut recovery \*\/.+/g,"")),this.options["token-stack"]&&(t=function(t){let e;return t.replace(/\/\*\* @replace token stack \*\/(.|\s)+?\/\*\* @replace \*\//,String((()=>{let t=e.pop()||undefined.lex()||undefined;return"number"!=typeof t&&(Array.isArray(t)&&(e=t,t=e.pop()),t=this.symbols_[t]||t),t})))}(t));const e=this.generateTableCode(this.table);return{commonCode:e.commonCode,moduleCode:"{"+["trace: "+String(this.trace).replace(/^\s*trace\(/,"function("),"yy: {}","symbols_: "+JSON.stringify(this.symbols_),"terminals_: "+JSON.stringify(this.terminals_).replace(/"(\d+)":/g,"$1:"),"productions_: "+JSON.stringify(this.productions_),"performAction: "+String(this.performAction),"table: "+e.moduleCode,"defaultActions: "+JSON.stringify(this.defaultActions).replace(/"(\d+)":/g,"$1:"),"parseError: "+String(this.parseError||(this.hasErrorRecovery?x:this.parseError)).replace(/^\s*parseError\(/,"function("),"parse: "+t].join(",\n")+"};"}}generateTableCode(t){const e=["o="+function(t,e,s={}){return t.forEach((t=>s[t]=e)),s}];let s,n=JSON.stringify(t);n=n.replace(/"(\d+)"(?=:)/g,"$1"),n=n.replace(/\{\d+:[^\}]+,\d+:[^\}]+\}/g,(function(t){const e=/(\d+):([^:]+)(?=,\d+:|\})/g,s=Object.create(null);let n,i,r=0;for(;n=e.exec(t);){const[,t,e]=n;let o;e in s?o=s[e].push(t):(s[e]=[t],o=1),o>r&&(r=o,i=e)}if(r>1){const e=[];for(const t in s)if(t!==i)for(const n of s[t])e.push(n+":"+t);t=`o([${s[i]}],${i}${e.length?",{"+e+"}":""})`}return t}));let i=Object.create(null),r=/\[[0-9,]+\]/g,o=0;for(;s=r.exec(n);)i[s]=(i[s]||0)+1;return n=n.replace(r,(t=>{let s=i[t];return"number"==typeof s&&(1===s?i[t]=s=t:(i[t]=s="$V"+o++,e.push(s+"="+t))),s})),{commonCode:"var "+e.join(",")+";",moduleCode:n}}createParser(){const t=Function(this.generateModuleExpr()+"return new Parser;")();return t.lexer=this.lexer,t.generateModule=(...e)=>(this.lexer=t.lexer,this.generateModule(...e)),t}}function f(t){const e=Object.create(null);return t.forEach((function(t,s){const[n,...i]=Object.keys(t);0===i.length&&2===t[n][0]&&(e[s]=t[n])})),e}function m(t,e,s,n){const i={production:t,operator:e,reduce:s,shift:n};return 2===n[0]?(i.msg="Resolve R/R conflict (use first production declared in grammar.)",i.action=n[1]<s[1]?n:s,n[1]!==s[1]&&(i.bydefault=!0),i):(0!==t.precedence&&e?t.precedence<e.precedence?(i.msg="Resolve S/R conflict (shift for higher precedent operator.)",i.action=n):t.precedence===e.precedence?"right"===e.assoc?(i.msg="Resolve S/R conflict (shift for right associative operator.)",i.action=n):"left"===e.assoc?(i.msg="Resolve S/R conflict (reduce for left associative operator.)",i.action=s):"nonassoc"===e.assoc&&(i.msg="Resolve S/R conflict (no action for non-associative operator.)",i.action=0):(i.msg="Resolve conflict (reduce for higher precedent production.)",i.action=s):(i.msg="Resolve S/R conflict (shift by default.)",i.bydefault=!0,i.action=n),i)}function g(t,e){switch(t[0]){case 1:return`shift token (then go to state ${t[1]})`;case 2:return`reduce by rule: ${e.productions[t[1]]}`;default:return"accept"}}function x(t){this.trace(t)}y.prototype.Item=class{constructor(t,e=0,s=[]){this.production=t,this.dotPosition=e,this.follows=s,this.id=t.id+"a"+this.dotPosition,this.markedSymbol=t.handle[this.dotPosition]}eq(t){return t.id===this.id}handleToString(){const t=this.production.handle.slice(0);return t[this.dotPosition]="."+(t[this.dotPosition]||""),t.join(" ")}toString(){return this.production.symbol+" -> "+this.handleToString()+(0===this.follows.length?"":" #lookaheads= "+this.follows.join(" "))}},y.prototype.ItemSet=class extends Array{static get[Symbol.species](){return Array}constructor(...t){super(...t),this.ids_=new Set(this.map((t=>t.id))),this.reductions=[],this.goes=Object.create(null),this.edges=Object.create(null),this.shifts=!1,this.inadequate=!1}push(...t){for(const e of t)this.contains(e)||(this.ids_.add(e.id),super.push(e));return this.length}contains(t){return this.ids_.has(t.id)}valueOf(){return[...this.ids_].sort().join("|")}};class b extends y{get type(){return"LR(0)"}constructor(...t){super(...t),this.buildTable()}}e.LR0Generator=b;class _ extends y{get type(){return"LALR(1)"}constructor(t,e){super(t,e),e=e||{},this.states=this.canonicalCollection(),this.terms_=Object.create(null),this.inadequateStates=[],this.newg=Object.assign(Object.create(d.prototype),{DEBUG:!1,trace:this.trace,nterms_:Object.create(null),nonterminals:Object.create(null),productions:[],go_:(t,e)=>{let s=parseInt(t.split(":")[0]);e=e.map((t=>t.slice(t.indexOf(":")+1)));for(const t of e)s=this.states[s].edges[t]||s;return s}}),this.onDemandLookahead=e.onDemandLookahead||!1,this.buildNewGrammar(),this.newg.computeLookaheads(),this.unionLookaheads(),this.table=this.parseTable(this.states),this.defaultActions=f(this.table)}lookAheads(t,e){return this.onDemandLookahead&&!t.inadequate?this.terminals:e.follows}goPath(t,e){const s=[];let n=parseInt(t,10);for(const t of e){const e=t?n+":"+t:"";e&&(this.newg.nterms_[e]=n),s.push(e),this.terms_[e]=t,n=this.states[n].edges[t]||n}return{path:s,endState:n}}buildNewGrammar(){const t=this.newg;this.states.forEach(((e,s)=>{for(const n of e)if(0===n.dotPosition){const e=s+":"+n.production.symbol;this.terms_[e]=n.production.symbol,t.nterms_[e]=s,e in t.nonterminals==0&&(t.nonterminals[e]=new c(e));const i=this.goPath(s,n.production.handle),r=new u(e,i.path,t.productions.length);t.productions.push(r),t.nonterminals[e].productions.push(r);const o=n.production.id,a=this.states[i.endState].goes;o in a?a[o].push(e):a[o]=[e]}e.inadequate&&this.inadequateStates.push(e)}))}unionLookaheads(){const t=this.onDemandLookahead?this.inadequateStates:this.states;for(const e of t)for(const t of e.reductions){const s=new Set(t.follows);for(const n of e.goes[t.production.id])for(const e of this.newg.nonterminals[n].follows){const n=this.terms_[e];s.has(n)||(s.add(n),t.follows.push(n))}}}}e.LALRGenerator=_;class $ extends y{constructor(...t){super(...t),this.computeLookaheads(),this.buildTable()}}class E extends ${get type(){return"SLR(1)"}lookAheads(t,e){return this.nonterminals[e.production.symbol].follows}}e.SLRGenerator=E;class k extends ${get type(){return"Canonical LR(1)"}lookAheads(t,e){return e.follows}closureOperation(t){const{nonterminals:e}=this,s=new this.ItemSet(...t);for(const t of s){const n=t.markedSymbol;if(n in e){const i=this.first(t.production.handle,t.dotPosition+1);(0===i.length||t.production.nullable||this.nullable(t.production.handle,t.dotPosition+1))&&i.push(...t.follows);for(const t of e[n].productions)s.push(new this.Item(t,0,i))}else n||s.reductions.push(t)}return s}}k.prototype.Item=class extends y.prototype.Item{constructor(...t){super(...t),this.id=`${this.production.id}a${this.dotPosition}a${this.follows.sort().join(",")}`}},e.LR1Generator=k;class N extends d{get type(){return"LL(1)"}constructor(...t){super(...t),this.computeLookaheads(),this.table=this.parseTable(this.productions)}parseTable(t){const e=Object.create(null);return t.forEach(((t,s)=>{const n=e[t.symbol]||Object.create(null),i=t.first;this.nullable(t.handle)&&i.push(...this.nonterminals[t.symbol].follows);for(const t of i)t in n?(n[t].push(s),this.conflicts++):n[t]=[s];e[t.symbol]=n})),e}}e.LLGenerator=N},249:(t,e,s)=>{const n=s(581),i=s(290).i8;function r(t,e){const s=[t.actionInclude||"","var YYSTATE=YY_START;"],n=Object.create(null),i=t.rules,r=t.macros?function(t){const e=new RegExp("\\{("+Object.keys(t).join("|")+")\\}","g");let s=!0;for(;s;){s=!1;for(const[n,i]of Object.entries(t))t[n]=i.replace(e,((e,n)=>(s=!0,"("+t[n]+")")))}return t}(t.macros):null;t.options&&t.options.flex&&i.push([".",""]);for(const t in e)n[e[t]]=t;return this.rules=function(t,e,s,n,i,r){const o=e?new RegExp("\\{("+Object.keys(e).join("|")+")\\}(?![?+*{])","g"):null,a=e?new RegExp("\\{("+Object.keys(e).join("|")+")\\}","g"):null,l=[];return s.push("switch (__lexelActionId) {"),t.forEach(((t,h)=>{if(Array.isArray(t[0]))if("*"===t[0][0]){for(const t in i)i[t].rules.push(h);t.shift()}else for(const e of t.shift())i[e].rules.push(h);else for(const t in i)i[t].inclusive&&i[t].rules.push(h);let c=t[0],u="function"==typeof t[1]?String(t[1]).replace(/^\s*(?:function\s*\([^)]*\)|\([^)]*\)\s*=>)\s*\{/,"").replace(/\}\s*$/,""):t[1];"string"==typeof c&&(a&&(c=c.replace(o,((t,s)=>e[s])).replace(a,((t,s)=>"("+e[s]+")"))),c=new RegExp(c.includes("|")?"^(?:"+c+")":"^"+c,r?"i":"")),n&&(u=u.replace(/\breturn\s+('[^']+?'|"[^"]+?")/g,((t,e)=>"return "+(n[e.slice(1,-1)]||e)))),l.push(c),s.push("case "+h+":{"+u.replace(/\b(yytext|yyleng|yylineno|yylloc)\b/g,"yy_.$1")+"\nbreak;}")})),s.push("}"),l}(i,r,s,e&&n,this.conditions,this.options["case-insensitive"]),"function(yy,yy_,__lexelActionId,YY_START) {"+s.join("\n")+"\n}"}function o(t,e,s){const n=a(t,s),i=l(n),r=Function("return"+i)();return r.yy={},r.generateModule=()=>h(n),e&&r.setInput(e),r}function a(t,e){"string"==typeof t&&(t=n.parse(t));const s=(t=t||{}).options||{},i={};return i.options=s,i.moduleType=s.moduleType,i.moduleName=s.moduleName,i.conditions=function(t){const e={};for(const[s,n]of Object.entries(t||{}))e[s]={rules:[],inclusive:!n};return e}(t.startConditions),i.conditions.INITIAL={rules:[],inclusive:!0},i.performAction=r.call(i,t,e),i.conditionStack=["INITIAL"],i.moduleInclude=(t.moduleInclude||"").trim(),i}function l(t){const e=t.options||{};let s="{\n";s+="options: "+JSON.stringify(e),s+=",\nperformAction: "+t.performAction,s+=",\nrules: ["+t.rules+"]",s+=",\nconditions: "+JSON.stringify(t.conditions);for(const[t,n]of Object.entries(o.prototype))if(!t.startsWith("generate")){const i=n.toString().replace(/this\.options\.([a-zA-Z$_][a-zA-Z0-9$_]*)/g,((t,s)=>s in e&&"boolean"!=typeof e[s]?t:Boolean(e[s])));s+=",\n"+("function"!=typeof n||i.startsWith("function")?t+":":"")+i}return s+="\n}",s}function h(t){const e=(t=t||{}).moduleName||"lexer";let s="/* Lexer generated by jison "+i+" */";return s+="\nvar "+e+" = (function(){\nvar lexer = "+l(t),t.moduleInclude&&(s+=";\n"+t.moduleInclude),s+=';if (typeof module !== "undefined" && typeof exports === "object") module.exports = exports = lexer;',s+=";\nreturn lexer.lexer = lexer;\n})();",s}o.prototype={EOF:1,setInput(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.matched=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this},parseError(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},input(){const t=this._input[0];return this.offset++,this.yyleng++,this.yytext=this.match=this.matched=this.yytext+t,/\r\n?|\n/g.test(t)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput(t){const e=t.split(/\r\n?|\n/g),s=this.yytext.split(/\r\n?|\n/g);this._input=t+this._input,this.offset-=t.length,this.yytext=this.matched=this.match=this.yytext.slice(0,-t.length),this.yyleng=this.yytext.length,this.done=!1,e.length-1&&(this.yylineno-=e.length-1);const n=this.yylloc;return this.yylloc={first_line:n.first_line,last_line:this.yylineno+1,first_column:n.first_column,last_column:e?(e.length===s.length?n.first_column:0)+s[s.length-e.length].length-e[0].length:n.first_column-t.length},this.options.ranges&&(this.yylloc.range=[n.range[0],n.range[0]+this.yyleng]),this},more(){return this._more=!0,this},reject(){if(this.options.backtrack_lexer)return this._backtrack=!0,this;throw new Error("reject() is allowed only when options.backtrack_lexer = true")},less(t){this.unput(this.match.slice(t))},pastInput(){const t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\r\n?|\n/g,"\\n")},upcomingInput(){let t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\r\n?|\n/g,"\\n")},showPosition(){const t=this.pastInput();return t+this.upcomingInput()+`\n${"-".repeat(t.length)}^`},test_match(t,e){let s;this.options.backtrack_lexer&&(s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matched:this.matched,matches:this.matches,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(s.yylloc.range=this.yylloc.range.slice(0)));const n=t[0];this.yytext+=n,this.match+=n,this.matched+=n,this.matches=t,this.yyleng=this.yytext.length,this.offset+=this.yyleng,this._more=!1,this._backtrack=!1,this._input=this._input.slice(n.length);const i=/\r\n?|\n/g;let r,o=-1;for(;r=i.exec(n);)this.yylineno++,o=r.index+r[0].length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:-1!==o?n.length-o:this.yylloc.last_column+n.length},this.options.ranges&&(this.yylloc.range=[this.offset-this.yyleng,this.offset]);const a=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]);return!a&&this._backtrack?(Object.assign(this,s),!1):(this._input&&(this.done=!1),"number"==typeof a&&this.yy.parser?this.yy.parser.terminals_[a]:a||!1)},next(){if(this.done)return this.EOF;let t,e;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(const s of this.conditions[this.currentCondition].rules){const n=this.rules[s];let i;if("function"==typeof n){const t=n(this._input,this.currentCondition);switch(typeof t){case"string":i=[t];break;case"number":i=[this._input.slice(0,t)];break;default:i=t}}else i=this._input.match(n);if(i&&(!t||i[0].length>t[0].length)){if(t=i,e=s,this.options.backtrack_lexer){const s=this.test_match(i,e);if(!1===s&&this._backtrack){t=!1;continue}return s}if(!this.options.flex)break}}return t?this.test_match(t,e):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let t;for(;!t;)t=this.next();return t},begin(t){this.currentCondition=t,this.conditionStack.push(t)},pushState(t){this.begin(t)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},stateStackSize(){return this.conditionStack.length}},o.generate=function(t,e){return h(a(t,e))},t.exports=o},155:t=>{t.exports=function(t,...e){const s=t=>{c.length-=2*t,u.length-=t,p.length-=t},n=()=>{let t=i.lex()||1;return"number"!=typeof t&&(t=this.symbols_[t]||t),t},i=Object.create(this.lexer),r=i.options&&i.options.ranges,o={...this.yy,parser:this,lexer:i};i.setInput(t,o),"function"==typeof o.parseError&&(this.parseError=o.parseError),void 0===i.yylloc&&(i.yylloc={});const a=this.table,l={};let h=i.yylloc;const c=[0],u=[null],p=[h];let d,y,f="",m=0,g=0,x=0;for(;;){let t,_=c[c.length-1];if(this.defaultActions[_]?t=this.defaultActions[_]:(null==d&&(d=n()),t=a[_]&&a[_][d]),!t||!t[0]){let e,r="";function b(t){let e=c.length-1,s=0;for(;;){if(2..toString()in a[t])return s;if(0===t||e<2)return!1;e-=2,t=c[e],++s}}if(x)1!==y&&(e=b(_));else{e=b(_);const t=[];for(const e in a[_])e in this.terminals_&&e>2&&t.push("'"+this.terminals_[e]+"'");r=i.showPosition?"Parse error on line "+(m+1)+":\n"+i.showPosition()+"\nExpecting "+t.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(m+1)+": Unexpected "+(1===d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(r,{text:i.match,token:this.terminals_[d]||d,line:i.yylineno,loc:h,recoverable:!1!==e,expected:t})}if(3===x){if(1===d||1===y)throw new Error(r||"Parsing halted while starting to recover from another error.");g=i.yyleng,f=i.yytext,m=i.yylineno,h=i.yylloc,d=n()}if(!1===e)throw new Error(r||"Parsing halted. No suitable error recovery rule available.");s(e),y=2==d?null:d,d=2,_=c[c.length-1],t=a[_]&&a[_][2],x=3}if(Array.isArray(t[0])&&t.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+d);switch(t[0]){case 1:c.push(d),u.push(i.yytext),p.push(i.yylloc),c.push(t[1]),d=null,y?(d=y,y=null):(g=i.yyleng,f=i.yytext,m=i.yylineno,h=i.yylloc,x>0&&x--);break;case 2:{const n=this.productions_[t[1]][1];l.$=u[u.length-n],l._$={first_line:p[p.length-(n||1)].first_line,last_line:p[p.length-1].last_line,first_column:p[p.length-(n||1)].first_column,last_column:p[p.length-1].last_column},r&&(l._$.range=[p[p.length-(n||1)].range[0],p[p.length-1].range[1]]);const i=this.performAction.call(l,f,g,m,o,t[1],u,p,...e);if(void 0!==i)return i;n&&s(n),c.push(this.productions_[t[1]][0]),u.push(l.$),p.push(l._$),c.push(a[c[c.length-2]][c[c.length-1]]);break}case 3:return!0}}}},290:t=>{"use strict";t.exports=JSON.parse('{"i8":"0.4.18-remastered.1"}')},465:(t,e,s)=>{var n=s(397).parser,i=s(535),r=s(581);e.parse=function(t){return n.parse(t)},e.transform=i.transform,n.yy.addDeclaration=function(t,e){if(e.start)t.start=e.start;else if(e.lex)t.lex=o(e.lex);else if(e.operator)t.operators||(t.operators=[]),t.operators.push(e.operator);else if(e.parseParam)t.parseParams||(t.parseParams=[]),t.parseParams=t.parseParams.concat(e.parseParam);else if(e.include)t.moduleInclude||(t.moduleInclude=""),t.moduleInclude+=e.include;else if(e.options){t.options||(t.options={});for(var s=0;s<e.options.length;s++)t.options[e.options[s]]=!0}};var o=function(t){return r.parse(t.replace(/(?:^%lex)|(?:\/lex$)/g,""))}},535:(t,e,s)=>{var n,i,r,o,a=(n=s(442),i=function(t,e){return t.reduce((function(t,s){return function(t,e,s){var n=t[0],o=t[1],a=!1;if("xalias"===n&&(n=t[1],o=t[2],a=t[3],n?t=t.slice(1,2):(n=(t=o)[0],o=t[1])),"symbol"===n)s(("\\"===t[1][0]?t[1][1]:"'"===t[1][0]?t[1].substring(1,t[1].length-1):t[1])+(a?"["+a+"]":""));else if("+"===n){a||(a=e.production+"_repetition_plus"+e.repid++),s(a),e=r(a,e.grammar);var l=i([o],e);e.grammar[a]=[[l,"$$ = [$1];"],[a+" "+l,"$1.push($2);"]]}else"*"===n?(a||(a=e.production+"_repetition"+e.repid++),s(a),(e=r(a,e.grammar)).grammar[a]=[["","$$ = [];"],[a+" "+i([o],e),"$1.push($2);"]]):"?"===n?(a||(a=e.production+"_option"+e.optid++),s(a),(e=r(a,e.grammar)).grammar[a]=["",i([o],e)]):"()"===n&&(1==o.length?s(i(o[0],e)):(a||(a=e.production+"_group"+e.groupid++),s(a),(e=r(a,e.grammar)).grammar[a]=o.map((function(t){return i(t,e)}))))}(s,e,(function(e){t.push(e)})),t}),[]).join(" ")},r=function(t,e){return{production:t,repid:0,groupid:0,optid:0,grammar:e}},o=function(t){Object.keys(t).forEach((function(e){t[e]=function(t,e,s){var o=r(t,s);return e.map((function(t){var e=null,s=null;"string"!=typeof t&&(e=t[1],s=t[2],t=t[0]);var r=n.parse(t),a=[t=i(r,o)];return e&&a.push(e),s&&a.push(s),1==a.length?a[0]:a}))}(e,t[e],t)}))},{transform:function(t){return o(t),t}});e.transform=a.transform},397:(t,e,s)=>{t=s.nmd(t);var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,spec:3,declaration_list:4,"%%":5,grammar:6,optional_end_block:7,EOF:8,CODE:9,declaration:10,START:11,id:12,LEX_BLOCK:13,operator:14,ACTION:15,parse_param:16,options:17,OPTIONS:18,token_list:19,PARSE_PARAM:20,associativity:21,LEFT:22,RIGHT:23,NONASSOC:24,symbol:25,production_list:26,production:27,":":28,handle_list:29,";":30,"|":31,handle_action:32,handle:33,prec:34,action:35,expression_suffix:36,handle_sublist:37,expression:38,suffix:39,ALIAS:40,ID:41,STRING:42,"(":43,")":44,"*":45,"?":46,"+":47,PREC:48,"{":49,action_body:50,"}":51,ARROW_ACTION:52,action_comments_body:53,ACTION_BODY:54,$accept:0,$end:1},terminals_:{2:"error",5:"%%",8:"EOF",9:"CODE",11:"START",13:"LEX_BLOCK",15:"ACTION",18:"OPTIONS",20:"PARSE_PARAM",22:"LEFT",23:"RIGHT",24:"NONASSOC",28:":",30:";",31:"|",40:"ALIAS",41:"ID",42:"STRING",43:"(",44:")",45:"*",46:"?",47:"+",48:"PREC",49:"{",51:"}",52:"ARROW_ACTION",54:"ACTION_BODY"},productions_:[0,[3,5],[3,6],[7,0],[7,1],[4,2],[4,0],[10,2],[10,1],[10,1],[10,1],[10,1],[10,1],[17,2],[16,2],[14,2],[21,1],[21,1],[21,1],[19,2],[19,1],[6,1],[26,2],[26,1],[27,4],[29,3],[29,1],[32,3],[33,2],[33,0],[37,3],[37,1],[36,3],[36,2],[38,1],[38,1],[38,3],[39,0],[39,1],[39,1],[39,1],[34,2],[34,0],[25,1],[25,1],[12,1],[35,3],[35,1],[35,1],[35,0],[50,0],[50,1],[50,5],[50,4],[53,1],[53,2]],performAction:function(t,e,s,r,o,a,l){var h=a.length-1;switch(o){case 1:return this.$=a[h-4],i(this.$,a[h-2]);case 2:return this.$=a[h-5],r.addDeclaration(this.$,{include:a[h-1]}),i(this.$,a[h-3]);case 5:this.$=a[h-1],r.addDeclaration(this.$,a[h]);break;case 6:this.$={};break;case 7:this.$={start:a[h]};break;case 8:this.$={lex:a[h]};break;case 9:this.$={operator:a[h]};break;case 10:this.$={include:a[h]};break;case 11:this.$={parseParam:a[h]};break;case 12:this.$={options:a[h]};break;case 13:case 14:this.$=a[h];break;case 15:this.$=[a[h-1]],this.$.push.apply(this.$,a[h]);break;case 16:this.$="left";break;case 17:this.$="right";break;case 18:this.$="nonassoc";break;case 19:this.$=a[h-1],this.$.push(a[h]);break;case 20:this.$=[a[h]];break;case 21:this.$=a[h];break;case 22:this.$=a[h-1],a[h][0]in this.$?this.$[a[h][0]]=this.$[a[h][0]].concat(a[h][1]):this.$[a[h][0]]=a[h][1];break;case 23:this.$={},this.$[a[h][0]]=a[h][1];break;case 24:this.$=[a[h-3],a[h-1]];break;case 25:this.$=a[h-2],this.$.push(a[h]);break;case 26:this.$=[a[h]];break;case 27:this.$=[a[h-2].length?a[h-2].join(" "):""],a[h]&&this.$.push(a[h]),a[h-1]&&this.$.push(a[h-1]),1===this.$.length&&(this.$=this.$[0]);break;case 28:this.$=a[h-1],this.$.push(a[h]);break;case 29:this.$=[];break;case 30:this.$=a[h-2],this.$.push(a[h].join(" "));break;case 31:this.$=[a[h].join(" ")];break;case 32:this.$=a[h-2]+a[h-1]+"["+a[h]+"]";break;case 33:this.$=a[h-1]+a[h];break;case 34:this.$=a[h];break;case 35:this.$=n?"'"+a[h]+"'":a[h];break;case 36:this.$="("+a[h-1].join(" | ")+")";break;case 37:this.$="";break;case 41:this.$={prec:a[h]};break;case 42:this.$=null;break;case 43:this.$=a[h];break;case 44:case 45:this.$=t;break;case 46:this.$=a[h-1];break;case 47:this.$=a[h];break;case 48:this.$="$$ ="+a[h]+";";break;case 49:case 50:this.$="";break;case 51:this.$=a[h];break;case 52:this.$=a[h-4]+a[h-3]+a[h-2]+a[h-1]+a[h];break;case 53:this.$=a[h-3]+a[h-2]+a[h-1]+a[h];break;case 54:this.$=t;break;case 55:this.$=a[h-1]+a[h]}},table:[{3:1,4:2,5:[2,6],11:[2,6],13:[2,6],15:[2,6],18:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{1:[3]},{5:[1,3],10:4,11:[1,5],13:[1,6],14:7,15:[1,8],16:9,17:10,18:[1,13],20:[1,12],21:11,22:[1,14],23:[1,15],24:[1,16]},{6:17,12:20,26:18,27:19,41:[1,21]},{5:[2,5],11:[2,5],13:[2,5],15:[2,5],18:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{12:22,41:[1,21]},{5:[2,8],11:[2,8],13:[2,8],15:[2,8],18:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{5:[2,9],11:[2,9],13:[2,9],15:[2,9],18:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],11:[2,10],13:[2,10],15:[2,10],18:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],11:[2,11],13:[2,11],15:[2,11],18:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],11:[2,12],13:[2,12],15:[2,12],18:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{12:25,19:23,25:24,41:[1,21],42:[1,26]},{12:25,19:27,25:24,41:[1,21],42:[1,26]},{12:25,19:28,25:24,41:[1,21],42:[1,26]},{41:[2,16],42:[2,16]},{41:[2,17],42:[2,17]},{41:[2,18],42:[2,18]},{5:[1,30],7:29,8:[2,3]},{5:[2,21],8:[2,21],12:20,27:31,41:[1,21]},{5:[2,23],8:[2,23],41:[2,23]},{28:[1,32]},{5:[2,45],11:[2,45],13:[2,45],15:[2,45],18:[2,45],20:[2,45],22:[2,45],23:[2,45],24:[2,45],28:[2,45],30:[2,45],31:[2,45],41:[2,45],42:[2,45],49:[2,45],52:[2,45]},{5:[2,7],11:[2,7],13:[2,7],15:[2,7],18:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{5:[2,15],11:[2,15],12:25,13:[2,15],15:[2,15],18:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15],25:33,41:[1,21],42:[1,26]},{5:[2,20],11:[2,20],13:[2,20],15:[2,20],18:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20],41:[2,20],42:[2,20]},{5:[2,43],11:[2,43],13:[2,43],15:[2,43],18:[2,43],20:[2,43],22:[2,43],23:[2,43],24:[2,43],30:[2,43],31:[2,43],41:[2,43],42:[2,43],49:[2,43],52:[2,43]},{5:[2,44],11:[2,44],13:[2,44],15:[2,44],18:[2,44],20:[2,44],22:[2,44],23:[2,44],24:[2,44],30:[2,44],31:[2,44],41:[2,44],42:[2,44],49:[2,44],52:[2,44]},{5:[2,14],11:[2,14],12:25,13:[2,14],15:[2,14],18:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14],25:33,41:[1,21],42:[1,26]},{5:[2,13],11:[2,13],12:25,13:[2,13],15:[2,13],18:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13],25:33,41:[1,21],42:[1,26]},{8:[1,34]},{8:[2,4],9:[1,35]},{5:[2,22],8:[2,22],41:[2,22]},{15:[2,29],29:36,30:[2,29],31:[2,29],32:37,33:38,41:[2,29],42:[2,29],43:[2,29],48:[2,29],49:[2,29],52:[2,29]},{5:[2,19],11:[2,19],13:[2,19],15:[2,19],18:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19],41:[2,19],42:[2,19]},{1:[2,1]},{8:[1,39]},{30:[1,40],31:[1,41]},{30:[2,26],31:[2,26]},{15:[2,42],30:[2,42],31:[2,42],34:42,36:43,38:45,41:[1,46],42:[1,47],43:[1,48],48:[1,44],49:[2,42],52:[2,42]},{1:[2,2]},{5:[2,24],8:[2,24],41:[2,24]},{15:[2,29],30:[2,29],31:[2,29],32:49,33:38,41:[2,29],42:[2,29],43:[2,29],48:[2,29],49:[2,29],52:[2,29]},{15:[1,52],30:[2,49],31:[2,49],35:50,49:[1,51],52:[1,53]},{15:[2,28],30:[2,28],31:[2,28],41:[2,28],42:[2,28],43:[2,28],44:[2,28],48:[2,28],49:[2,28],52:[2,28]},{12:25,25:54,41:[1,21],42:[1,26]},{15:[2,37],30:[2,37],31:[2,37],39:55,40:[2,37],41:[2,37],42:[2,37],43:[2,37],44:[2,37],45:[1,56],46:[1,57],47:[1,58],48:[2,37],49:[2,37],52:[2,37]},{15:[2,34],30:[2,34],31:[2,34],40:[2,34],41:[2,34],42:[2,34],43:[2,34],44:[2,34],45:[2,34],46:[2,34],47:[2,34],48:[2,34],49:[2,34],52:[2,34]},{15:[2,35],30:[2,35],31:[2,35],40:[2,35],41:[2,35],42:[2,35],43:[2,35],44:[2,35],45:[2,35],46:[2,35],47:[2,35],48:[2,35],49:[2,35],52:[2,35]},{31:[2,29],33:60,37:59,41:[2,29],42:[2,29],43:[2,29],44:[2,29]},{30:[2,25],31:[2,25]},{30:[2,27],31:[2,27]},{49:[2,50],50:61,51:[2,50],53:62,54:[1,63]},{30:[2,47],31:[2,47]},{30:[2,48],31:[2,48]},{15:[2,41],30:[2,41],31:[2,41],49:[2,41],52:[2,41]},{15:[2,33],30:[2,33],31:[2,33],40:[1,64],41:[2,33],42:[2,33],43:[2,33],44:[2,33],48:[2,33],49:[2,33],52:[2,33]},{15:[2,38],30:[2,38],31:[2,38],40:[2,38],41:[2,38],42:[2,38],43:[2,38],44:[2,38],48:[2,38],49:[2,38],52:[2,38]},{15:[2,39],30:[2,39],31:[2,39],40:[2,39],41:[2,39],42:[2,39],43:[2,39],44:[2,39],48:[2,39],49:[2,39],52:[2,39]},{15:[2,40],30:[2,40],31:[2,40],40:[2,40],41:[2,40],42:[2,40],43:[2,40],44:[2,40],48:[2,40],49:[2,40],52:[2,40]},{31:[1,66],44:[1,65]},{31:[2,31],36:43,38:45,41:[1,46],42:[1,47],43:[1,48],44:[2,31]},{49:[1,68],51:[1,67]},{49:[2,51],51:[2,51],54:[1,69]},{49:[2,54],51:[2,54],54:[2,54]},{15:[2,32],30:[2,32],31:[2,32],41:[2,32],42:[2,32],43:[2,32],44:[2,32],48:[2,32],49:[2,32],52:[2,32]},{15:[2,36],30:[2,36],31:[2,36],40:[2,36],41:[2,36],42:[2,36],43:[2,36],44:[2,36],45:[2,36],46:[2,36],47:[2,36],48:[2,36],49:[2,36],52:[2,36]},{31:[2,29],33:70,41:[2,29],42:[2,29],43:[2,29],44:[2,29]},{30:[2,46],31:[2,46]},{49:[2,50],50:71,51:[2,50],53:62,54:[1,63]},{49:[2,55],51:[2,55],54:[2,55]},{31:[2,30],36:43,38:45,41:[1,46],42:[1,47],43:[1,48],44:[2,30]},{49:[1,68],51:[1,72]},{49:[2,53],51:[2,53],53:73,54:[1,63]},{49:[2,52],51:[2,52],54:[1,69]}],defaultActions:{34:[2,1],39:[2,2]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,s=[0],n=[null],i=[],r=this.table,o="",a=0,l=0,h=0,c=2,u=1,p=i.slice.call(arguments,1);this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;i.push(d);var y=this.lexer.options&&this.lexer.options.ranges;function f(){var t;return"number"!=typeof(t=e.lexer.lex()||u)&&(t=e.symbols_[t]||t),t}"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,g,x,b,_,$,E,k,N,T={};;){if(x=s[s.length-1],this.defaultActions[x]?b=this.defaultActions[x]:(null==m&&(m=f()),b=r[x]&&r[x][m]),void 0===b||!b.length||!b[0]){var A="";for($ in N=[],r[x])this.terminals_[$]&&$>c&&N.push("'"+this.terminals_[$]+"'");A=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(m==u?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:d,expected:N})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(b[0]){case 1:s.push(m),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),s.push(b[1]),m=null,g?(m=g,g=null):(l=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,d=this.lexer.yylloc,h>0&&h--);break;case 2:if(E=this.productions_[b[1]][1],T.$=n[n.length-E],T._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},y&&(T._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(T,[o,l,a,this.yy,b[1],n,i].concat(p))))return _;E&&(s=s.slice(0,-1*E*2),n=n.slice(0,-1*E),i=i.slice(0,-1*E)),s.push(this.productions_[b[1]][0]),n.push(T.$),i.push(T._$),k=r[s[s.length-2]][s[s.length-1]],s.push(k);break;case 3:return!0}}return!0}},e=s(535).transform,n=!1;function i(t,s){return t.bnf=n?e(s):s,t}var r={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in i)this[r]=i[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,s,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if((s=this._input.match(this.rules[i[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,i){switch(s){case 0:return this.pushState("code"),5;case 1:return 43;case 2:return 44;case 3:return 45;case 4:return 46;case 5:return 47;case 6:case 7:case 8:break;case 9:return e.yytext=e.yytext.substr(1,e.yyleng-2),40;case 10:return 41;case 11:case 12:return e.yytext=e.yytext.substr(1,e.yyleng-2),42;case 13:return 28;case 14:return 30;case 15:return 31;case 16:return this.pushState(n?"ebnf":"bnf"),5;case 17:t.options||(t.options={}),n=t.options.ebnf=!0;break;case 18:return 48;case 19:return 11;case 20:return 22;case 21:return 23;case 22:return 24;case 23:return 20;case 24:return 18;case 25:return 13;case 26:case 27:break;case 28:return e.yytext=e.yytext.substr(2,e.yyleng-4),15;case 29:return e.yytext=e.yytext.substr(2,e.yytext.length-4),15;case 30:return t.depth=0,this.pushState("action"),49;case 31:return e.yytext=e.yytext.substr(2,e.yyleng-2),52;case 32:break;case 33:return 8;case 34:case 35:case 36:case 37:case 38:case 39:case 40:return 54;case 41:return t.depth++,49;case 42:return 0==t.depth?this.begin(n?"ebnf":"bnf"):t.depth--,51;case 43:return 9}},rules:[/^(?:%%)/,/^(?:\()/,/^(?:\))/,/^(?:\*)/,/^(?:\?)/,/^(?:\+)/,/^(?:\s+)/,/^(?:\/\/.*)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:\[([a-zA-Z][a-zA-Z0-9_-]*)\])/,/^(?:([a-zA-Z][a-zA-Z0-9_-]*))/,/^(?:"[^"]+")/,/^(?:'[^']+')/,/^(?::)/,/^(?:;)/,/^(?:\|)/,/^(?:%%)/,/^(?:%ebnf\b)/,/^(?:%prec\b)/,/^(?:%start\b)/,/^(?:%left\b)/,/^(?:%right\b)/,/^(?:%nonassoc\b)/,/^(?:%parse-param\b)/,/^(?:%options\b)/,/^(?:%lex[\w\W]*?\/lex\b)/,/^(?:%[a-zA-Z]+[^\r\n]*)/,/^(?:<[a-zA-Z]*>)/,/^(?:\{\{[\w\W]*?\}\})/,/^(?:%\{(.|\r|\n)*?%\})/,/^(?:\{)/,/^(?:->.*)/,/^(?:.)/,/^(?:$)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:\/\/.*)/,/^(?:\/[^ /]*?['"{}'][^ ]*?\/)/,/^(?:"(\\\\|\\"|[^"])*")/,/^(?:'(\\\\|\\'|[^'])*')/,/^(?:[/"'][^{}/"']+)/,/^(?:[^{}/"']+)/,/^(?:\{)/,/^(?:\})/,/^(?:(.|\n|\r)+)/],conditions:{bnf:{rules:[0,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0},ebnf:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0},action:{rules:[33,34,35,36,37,38,39,40,41,42],inclusive:!1},code:{rules:[33,43],inclusive:!1},INITIAL:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0}}};function o(){this.yy={}}return t.lexer=r,o.prototype=t,t.Parser=o,new o}();e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=s(993).readFileSync(s(386).normalize(t[1]),"utf8");return e.parser.parse(n)},s.c[s.s]===t&&e.main(process.argv.slice(1))},442:(t,e,s)=>{t=s.nmd(t);var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,production:3,handle:4,EOF:5,handle_list:6,"|":7,expression_suffix:8,expression:9,suffix:10,ALIAS:11,symbol:12,"(":13,")":14,"*":15,"?":16,"+":17,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",7:"|",11:"ALIAS",12:"symbol",13:"(",14:")",15:"*",16:"?",17:"+"},productions_:[0,[3,2],[6,1],[6,3],[4,0],[4,2],[8,3],[8,2],[9,1],[9,3],[10,0],[10,1],[10,1],[10,1]],performAction:function(t,e,s,n,i,r,o){var a=r.length-1;switch(i){case 1:return r[a-1];case 2:this.$=[r[a]];break;case 3:r[a-2].push(r[a]);break;case 4:this.$=[];break;case 5:r[a-1].push(r[a]);break;case 6:this.$=["xalias",r[a-1],r[a-2],r[a]];break;case 7:r[a]?this.$=[r[a],r[a-1]]:this.$=r[a-1];break;case 8:this.$=["symbol",r[a]];break;case 9:this.$=["()",r[a-1]]}},table:[{3:1,4:2,5:[2,4],12:[2,4],13:[2,4]},{1:[3]},{5:[1,3],8:4,9:5,12:[1,6],13:[1,7]},{1:[2,1]},{5:[2,5],7:[2,5],12:[2,5],13:[2,5],14:[2,5]},{5:[2,10],7:[2,10],10:8,11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[1,9],16:[1,10],17:[1,11]},{5:[2,8],7:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[2,8],17:[2,8]},{4:13,6:12,7:[2,4],12:[2,4],13:[2,4],14:[2,4]},{5:[2,7],7:[2,7],11:[1,14],12:[2,7],13:[2,7],14:[2,7]},{5:[2,11],7:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11]},{5:[2,12],7:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12]},{5:[2,13],7:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13]},{7:[1,16],14:[1,15]},{7:[2,2],8:4,9:5,12:[1,6],13:[1,7],14:[2,2]},{5:[2,6],7:[2,6],12:[2,6],13:[2,6],14:[2,6]},{5:[2,9],7:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[2,9],17:[2,9]},{4:17,7:[2,4],12:[2,4],13:[2,4],14:[2,4]},{7:[2,3],8:4,9:5,12:[1,6],13:[1,7],14:[2,3]}],defaultActions:{3:[2,1]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=this,s=[0],n=[null],i=[],r=this.table,o="",a=0,l=0,h=0,c=2,u=1,p=i.slice.call(arguments,1);this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;i.push(d);var y=this.lexer.options&&this.lexer.options.ranges;function f(){var t;return"number"!=typeof(t=e.lexer.lex()||u)&&(t=e.symbols_[t]||t),t}"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var m,g,x,b,_,$,E,k,N,T={};;){if(x=s[s.length-1],this.defaultActions[x]?b=this.defaultActions[x]:(null==m&&(m=f()),b=r[x]&&r[x][m]),void 0===b||!b.length||!b[0]){var A="";for($ in N=[],r[x])this.terminals_[$]&&$>c&&N.push("'"+this.terminals_[$]+"'");A=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+N.join(", ")+", got '"+(this.terminals_[m]||m)+"'":"Parse error on line "+(a+1)+": Unexpected "+(m==u?"end of input":"'"+(this.terminals_[m]||m)+"'"),this.parseError(A,{text:this.lexer.match,token:this.terminals_[m]||m,line:this.lexer.yylineno,loc:d,expected:N})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+x+", token: "+m);switch(b[0]){case 1:s.push(m),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),s.push(b[1]),m=null,g?(m=g,g=null):(l=this.lexer.yyleng,o=this.lexer.yytext,a=this.lexer.yylineno,d=this.lexer.yylloc,h>0&&h--);break;case 2:if(E=this.productions_[b[1]][1],T.$=n[n.length-E],T._$={first_line:i[i.length-(E||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(E||1)].first_column,last_column:i[i.length-1].last_column},y&&(T._$.range=[i[i.length-(E||1)].range[0],i[i.length-1].range[1]]),void 0!==(_=this.performAction.apply(T,[o,l,a,this.yy,b[1],n,i].concat(p))))return _;E&&(s=s.slice(0,-1*E*2),n=n.slice(0,-1*E),i=i.slice(0,-1*E)),s.push(this.productions_[b[1]][0]),n.push(T.$),i.push(T._$),k=r[s[s.length-2]][s[s.length-1]],s.push(k);break;case 3:return!0}}return!0}},e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in i)this[r]=i[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,s,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if((s=this._input.match(this.rules[i[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,n){switch(s){case 0:break;case 1:return 12;case 2:return e.yytext=e.yytext.substr(1,e.yyleng-2),11;case 3:case 4:return 12;case 5:return"bar";case 6:return 13;case 7:return 14;case 8:return 15;case 9:return 16;case 10:return 7;case 11:return 17;case 12:return 5}},rules:[/^(?:\s+)/,/^(?:([a-zA-Z][a-zA-Z0-9_-]*))/,/^(?:\[([a-zA-Z][a-zA-Z0-9_-]*)\])/,/^(?:'[^']*')/,/^(?:\.)/,/^(?:bar\b)/,/^(?:\()/,/^(?:\))/,/^(?:\*)/,/^(?:\?)/,/^(?:\|)/,/^(?:\+)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12],inclusive:!0}}};function s(){this.yy={}}return t.lexer=e,s.prototype=t,t.Parser=s,new s}();e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=s(993).readFileSync(s(386).normalize(t[1]),"utf8");return e.parser.parse(n)},s.c[s.s]===t&&e.main(process.argv.slice(1))},581:(t,e,s)=>{t=s.nmd(t);var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,lex:3,definitions:4,"%%":5,rules:6,epilogue:7,EOF:8,CODE:9,definition:10,ACTION:11,NAME:12,regex:13,START_INC:14,names_inclusive:15,START_EXC:16,names_exclusive:17,START_COND:18,rule:19,start_conditions:20,action:21,"{":22,action_body:23,"}":24,action_comments_body:25,ACTION_BODY:26,"<":27,name_list:28,">":29,"*":30,",":31,regex_list:32,"|":33,regex_concat:34,regex_base:35,"(":36,")":37,SPECIAL_GROUP:38,"+":39,"?":40,"/":41,"/!":42,name_expansion:43,range_regex:44,any_group_regex:45,".":46,"^":47,$:48,string:49,escape_char:50,NAME_BRACE:51,ANY_GROUP_REGEX:52,ESCAPE_CHAR:53,RANGE_REGEX:54,STRING_LIT:55,CHARACTER_LIT:56,$accept:0,$end:1},terminals_:{2:"error",5:"%%",8:"EOF",9:"CODE",11:"ACTION",12:"NAME",14:"START_INC",16:"START_EXC",18:"START_COND",22:"{",24:"}",26:"ACTION_BODY",27:"<",29:">",30:"*",31:",",33:"|",36:"(",37:")",38:"SPECIAL_GROUP",39:"+",40:"?",41:"/",42:"/!",46:".",47:"^",48:"$",51:"NAME_BRACE",52:"ANY_GROUP_REGEX",53:"ESCAPE_CHAR",54:"RANGE_REGEX",55:"STRING_LIT",56:"CHARACTER_LIT"},productions_:[0,[3,4],[7,1],[7,2],[7,3],[4,2],[4,2],[4,0],[10,2],[10,2],[10,2],[15,1],[15,2],[17,1],[17,2],[6,2],[6,1],[19,3],[21,3],[21,1],[23,0],[23,1],[23,5],[23,4],[25,1],[25,2],[20,3],[20,3],[20,0],[28,1],[28,3],[13,1],[32,3],[32,2],[32,1],[32,0],[34,2],[34,1],[35,3],[35,3],[35,2],[35,2],[35,2],[35,2],[35,2],[35,1],[35,2],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[43,1],[45,1],[50,1],[44,1],[49,1],[49,1]],performAction:function(t,e,s,n,i,r,o){var a=r.length-1;switch(i){case 1:return this.$={rules:r[a-1]},r[a-3][0]&&(this.$.macros=r[a-3][0]),r[a-3][1]&&(this.$.startConditions=r[a-3][1]),r[a]&&(this.$.moduleInclude=r[a]),n.options&&(this.$.options=n.options),n.actionInclude&&(this.$.actionInclude=n.actionInclude),delete n.options,delete n.actionInclude,this.$;case 2:case 3:this.$=null;break;case 4:this.$=r[a-1];break;case 5:if(this.$=r[a],"length"in r[a-1])this.$[0]=this.$[0]||{},this.$[0][r[a-1][0]]=r[a-1][1];else for(var l in this.$[1]=this.$[1]||{},r[a-1])this.$[1][l]=r[a-1][l];break;case 6:n.actionInclude+=r[a-1],this.$=r[a];break;case 7:n.actionInclude="",this.$=[null,null];break;case 8:this.$=[r[a-1],r[a]];break;case 9:case 10:this.$=r[a];break;case 11:this.$={},this.$[r[a]]=0;break;case 12:this.$=r[a-1],this.$[r[a]]=0;break;case 13:this.$={},this.$[r[a]]=1;break;case 14:this.$=r[a-1],this.$[r[a]]=1;break;case 15:this.$=r[a-1],this.$.push(r[a]);break;case 16:this.$=[r[a]];break;case 17:this.$=r[a-2]?[r[a-2],r[a-1],r[a]]:[r[a-1],r[a]];break;case 18:this.$=r[a-1];break;case 19:this.$=r[a];break;case 20:this.$="";break;case 21:this.$=r[a];break;case 22:this.$=r[a-4]+r[a-3]+r[a-2]+r[a-1]+r[a];break;case 23:this.$=r[a-3]+r[a-2]+r[a-1]+r[a];break;case 24:this.$=t;break;case 25:this.$=r[a-1]+r[a];break;case 26:this.$=r[a-1];break;case 27:this.$=["*"];break;case 29:this.$=[r[a]];break;case 30:this.$=r[a-2],this.$.push(r[a]);break;case 31:this.$=r[a],n.options&&n.options.flex||!this.$.match(/[\w\d]$/)||this.$.match(/\\(r|f|n|t|v|s|b|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}|[0-7]{1,3})$/)||(this.$+="\\b");break;case 32:this.$=r[a-2]+"|"+r[a];break;case 33:this.$=r[a-1]+"|";break;case 35:this.$="";break;case 36:this.$=r[a-1]+r[a];break;case 38:this.$="("+r[a-1]+")";break;case 39:this.$=r[a-2]+r[a-1]+")";break;case 40:this.$=r[a-1]+"+";break;case 41:this.$=r[a-1]+"*";break;case 42:this.$=r[a-1]+"?";break;case 43:this.$="(?="+r[a]+")";break;case 44:this.$="(?!"+r[a]+")";break;case 46:this.$=r[a-1]+r[a];break;case 48:this.$=".";break;case 49:this.$="^";break;case 50:this.$="$";break;case 54:case 55:case 56:this.$=t;break;case 57:this.$=t.substr(1,t.length-2).replace(/\\\\/g,"\\").replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1").replace(/\\\\u([a-fA-F0-9]{4})/g,"\\u$1")}},table:[{3:1,4:2,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{1:[3]},{5:[1,8]},{4:9,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{4:10,5:[2,7],10:3,11:[1,4],12:[1,5],14:[1,6],16:[1,7]},{5:[2,35],11:[2,35],12:[2,35],13:11,14:[2,35],16:[2,35],32:12,33:[2,35],34:13,35:14,36:[1,15],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{15:31,18:[1,32]},{17:33,18:[1,34]},{6:35,11:[2,28],19:36,20:37,22:[2,28],27:[1,38],33:[2,28],36:[2,28],38:[2,28],41:[2,28],42:[2,28],46:[2,28],47:[2,28],48:[2,28],51:[2,28],52:[2,28],53:[2,28],55:[2,28],56:[2,28]},{5:[2,5]},{5:[2,6]},{5:[2,8],11:[2,8],12:[2,8],14:[2,8],16:[2,8]},{5:[2,31],11:[2,31],12:[2,31],14:[2,31],16:[2,31],22:[2,31],33:[1,39]},{5:[2,34],11:[2,34],12:[2,34],14:[2,34],16:[2,34],22:[2,34],33:[2,34],35:40,36:[1,15],37:[2,34],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{5:[2,37],11:[2,37],12:[2,37],14:[2,37],16:[2,37],22:[2,37],30:[1,42],33:[2,37],36:[2,37],37:[2,37],38:[2,37],39:[1,41],40:[1,43],41:[2,37],42:[2,37],44:44,46:[2,37],47:[2,37],48:[2,37],51:[2,37],52:[2,37],53:[2,37],54:[1,45],55:[2,37],56:[2,37]},{32:46,33:[2,35],34:13,35:14,36:[1,15],37:[2,35],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{32:47,33:[2,35],34:13,35:14,36:[1,15],37:[2,35],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{35:48,36:[1,15],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{35:49,36:[1,15],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{5:[2,45],11:[2,45],12:[2,45],14:[2,45],16:[2,45],22:[2,45],30:[2,45],33:[2,45],36:[2,45],37:[2,45],38:[2,45],39:[2,45],40:[2,45],41:[2,45],42:[2,45],46:[2,45],47:[2,45],48:[2,45],51:[2,45],52:[2,45],53:[2,45],54:[2,45],55:[2,45],56:[2,45]},{5:[2,47],11:[2,47],12:[2,47],14:[2,47],16:[2,47],22:[2,47],30:[2,47],33:[2,47],36:[2,47],37:[2,47],38:[2,47],39:[2,47],40:[2,47],41:[2,47],42:[2,47],46:[2,47],47:[2,47],48:[2,47],51:[2,47],52:[2,47],53:[2,47],54:[2,47],55:[2,47],56:[2,47]},{5:[2,48],11:[2,48],12:[2,48],14:[2,48],16:[2,48],22:[2,48],30:[2,48],33:[2,48],36:[2,48],37:[2,48],38:[2,48],39:[2,48],40:[2,48],41:[2,48],42:[2,48],46:[2,48],47:[2,48],48:[2,48],51:[2,48],52:[2,48],53:[2,48],54:[2,48],55:[2,48],56:[2,48]},{5:[2,49],11:[2,49],12:[2,49],14:[2,49],16:[2,49],22:[2,49],30:[2,49],33:[2,49],36:[2,49],37:[2,49],38:[2,49],39:[2,49],40:[2,49],41:[2,49],42:[2,49],46:[2,49],47:[2,49],48:[2,49],51:[2,49],52:[2,49],53:[2,49],54:[2,49],55:[2,49],56:[2,49]},{5:[2,50],11:[2,50],12:[2,50],14:[2,50],16:[2,50],22:[2,50],30:[2,50],33:[2,50],36:[2,50],37:[2,50],38:[2,50],39:[2,50],40:[2,50],41:[2,50],42:[2,50],46:[2,50],47:[2,50],48:[2,50],51:[2,50],52:[2,50],53:[2,50],54:[2,50],55:[2,50],56:[2,50]},{5:[2,51],11:[2,51],12:[2,51],14:[2,51],16:[2,51],22:[2,51],30:[2,51],33:[2,51],36:[2,51],37:[2,51],38:[2,51],39:[2,51],40:[2,51],41:[2,51],42:[2,51],46:[2,51],47:[2,51],48:[2,51],51:[2,51],52:[2,51],53:[2,51],54:[2,51],55:[2,51],56:[2,51]},{5:[2,52],11:[2,52],12:[2,52],14:[2,52],16:[2,52],22:[2,52],30:[2,52],33:[2,52],36:[2,52],37:[2,52],38:[2,52],39:[2,52],40:[2,52],41:[2,52],42:[2,52],46:[2,52],47:[2,52],48:[2,52],51:[2,52],52:[2,52],53:[2,52],54:[2,52],55:[2,52],56:[2,52]},{5:[2,53],11:[2,53],12:[2,53],14:[2,53],16:[2,53],22:[2,53],30:[2,53],33:[2,53],36:[2,53],37:[2,53],38:[2,53],39:[2,53],40:[2,53],41:[2,53],42:[2,53],46:[2,53],47:[2,53],48:[2,53],51:[2,53],52:[2,53],53:[2,53],54:[2,53],55:[2,53],56:[2,53]},{5:[2,54],11:[2,54],12:[2,54],14:[2,54],16:[2,54],22:[2,54],30:[2,54],33:[2,54],36:[2,54],37:[2,54],38:[2,54],39:[2,54],40:[2,54],41:[2,54],42:[2,54],46:[2,54],47:[2,54],48:[2,54],51:[2,54],52:[2,54],53:[2,54],54:[2,54],55:[2,54],56:[2,54]},{5:[2,57],11:[2,57],12:[2,57],14:[2,57],16:[2,57],22:[2,57],30:[2,57],33:[2,57],36:[2,57],37:[2,57],38:[2,57],39:[2,57],40:[2,57],41:[2,57],42:[2,57],46:[2,57],47:[2,57],48:[2,57],51:[2,57],52:[2,57],53:[2,57],54:[2,57],55:[2,57],56:[2,57]},{5:[2,58],11:[2,58],12:[2,58],14:[2,58],16:[2,58],22:[2,58],30:[2,58],33:[2,58],36:[2,58],37:[2,58],38:[2,58],39:[2,58],40:[2,58],41:[2,58],42:[2,58],46:[2,58],47:[2,58],48:[2,58],51:[2,58],52:[2,58],53:[2,58],54:[2,58],55:[2,58],56:[2,58]},{5:[2,55],11:[2,55],12:[2,55],14:[2,55],16:[2,55],22:[2,55],30:[2,55],33:[2,55],36:[2,55],37:[2,55],38:[2,55],39:[2,55],40:[2,55],41:[2,55],42:[2,55],46:[2,55],47:[2,55],48:[2,55],51:[2,55],52:[2,55],53:[2,55],54:[2,55],55:[2,55],56:[2,55]},{5:[2,9],11:[2,9],12:[2,9],14:[2,9],16:[2,9],18:[1,50]},{5:[2,11],11:[2,11],12:[2,11],14:[2,11],16:[2,11],18:[2,11]},{5:[2,10],11:[2,10],12:[2,10],14:[2,10],16:[2,10],18:[1,51]},{5:[2,13],11:[2,13],12:[2,13],14:[2,13],16:[2,13],18:[2,13]},{5:[1,55],7:52,8:[1,54],11:[2,28],19:53,20:37,22:[2,28],27:[1,38],33:[2,28],36:[2,28],38:[2,28],41:[2,28],42:[2,28],46:[2,28],47:[2,28],48:[2,28],51:[2,28],52:[2,28],53:[2,28],55:[2,28],56:[2,28]},{5:[2,16],8:[2,16],11:[2,16],22:[2,16],27:[2,16],33:[2,16],36:[2,16],38:[2,16],41:[2,16],42:[2,16],46:[2,16],47:[2,16],48:[2,16],51:[2,16],52:[2,16],53:[2,16],55:[2,16],56:[2,16]},{11:[2,35],13:56,22:[2,35],32:12,33:[2,35],34:13,35:14,36:[1,15],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{12:[1,59],28:57,30:[1,58]},{5:[2,33],11:[2,33],12:[2,33],14:[2,33],16:[2,33],22:[2,33],33:[2,33],34:60,35:14,36:[1,15],37:[2,33],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{5:[2,36],11:[2,36],12:[2,36],14:[2,36],16:[2,36],22:[2,36],30:[1,42],33:[2,36],36:[2,36],37:[2,36],38:[2,36],39:[1,41],40:[1,43],41:[2,36],42:[2,36],44:44,46:[2,36],47:[2,36],48:[2,36],51:[2,36],52:[2,36],53:[2,36],54:[1,45],55:[2,36],56:[2,36]},{5:[2,40],11:[2,40],12:[2,40],14:[2,40],16:[2,40],22:[2,40],30:[2,40],33:[2,40],36:[2,40],37:[2,40],38:[2,40],39:[2,40],40:[2,40],41:[2,40],42:[2,40],46:[2,40],47:[2,40],48:[2,40],51:[2,40],52:[2,40],53:[2,40],54:[2,40],55:[2,40],56:[2,40]},{5:[2,41],11:[2,41],12:[2,41],14:[2,41],16:[2,41],22:[2,41],30:[2,41],33:[2,41],36:[2,41],37:[2,41],38:[2,41],39:[2,41],40:[2,41],41:[2,41],42:[2,41],46:[2,41],47:[2,41],48:[2,41],51:[2,41],52:[2,41],53:[2,41],54:[2,41],55:[2,41],56:[2,41]},{5:[2,42],11:[2,42],12:[2,42],14:[2,42],16:[2,42],22:[2,42],30:[2,42],33:[2,42],36:[2,42],37:[2,42],38:[2,42],39:[2,42],40:[2,42],41:[2,42],42:[2,42],46:[2,42],47:[2,42],48:[2,42],51:[2,42],52:[2,42],53:[2,42],54:[2,42],55:[2,42],56:[2,42]},{5:[2,46],11:[2,46],12:[2,46],14:[2,46],16:[2,46],22:[2,46],30:[2,46],33:[2,46],36:[2,46],37:[2,46],38:[2,46],39:[2,46],40:[2,46],41:[2,46],42:[2,46],46:[2,46],47:[2,46],48:[2,46],51:[2,46],52:[2,46],53:[2,46],54:[2,46],55:[2,46],56:[2,46]},{5:[2,56],11:[2,56],12:[2,56],14:[2,56],16:[2,56],22:[2,56],30:[2,56],33:[2,56],36:[2,56],37:[2,56],38:[2,56],39:[2,56],40:[2,56],41:[2,56],42:[2,56],46:[2,56],47:[2,56],48:[2,56],51:[2,56],52:[2,56],53:[2,56],54:[2,56],55:[2,56],56:[2,56]},{33:[1,39],37:[1,61]},{33:[1,39],37:[1,62]},{5:[2,43],11:[2,43],12:[2,43],14:[2,43],16:[2,43],22:[2,43],30:[1,42],33:[2,43],36:[2,43],37:[2,43],38:[2,43],39:[1,41],40:[1,43],41:[2,43],42:[2,43],44:44,46:[2,43],47:[2,43],48:[2,43],51:[2,43],52:[2,43],53:[2,43],54:[1,45],55:[2,43],56:[2,43]},{5:[2,44],11:[2,44],12:[2,44],14:[2,44],16:[2,44],22:[2,44],30:[1,42],33:[2,44],36:[2,44],37:[2,44],38:[2,44],39:[1,41],40:[1,43],41:[2,44],42:[2,44],44:44,46:[2,44],47:[2,44],48:[2,44],51:[2,44],52:[2,44],53:[2,44],54:[1,45],55:[2,44],56:[2,44]},{5:[2,12],11:[2,12],12:[2,12],14:[2,12],16:[2,12],18:[2,12]},{5:[2,14],11:[2,14],12:[2,14],14:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{5:[2,15],8:[2,15],11:[2,15],22:[2,15],27:[2,15],33:[2,15],36:[2,15],38:[2,15],41:[2,15],42:[2,15],46:[2,15],47:[2,15],48:[2,15],51:[2,15],52:[2,15],53:[2,15],55:[2,15],56:[2,15]},{1:[2,2]},{8:[1,63],9:[1,64]},{11:[1,67],21:65,22:[1,66]},{29:[1,68],31:[1,69]},{29:[1,70]},{29:[2,29],31:[2,29]},{5:[2,32],11:[2,32],12:[2,32],14:[2,32],16:[2,32],22:[2,32],33:[2,32],35:40,36:[1,15],37:[2,32],38:[1,16],41:[1,17],42:[1,18],43:19,45:20,46:[1,21],47:[1,22],48:[1,23],49:24,50:25,51:[1,26],52:[1,27],53:[1,30],55:[1,28],56:[1,29]},{5:[2,38],11:[2,38],12:[2,38],14:[2,38],16:[2,38],22:[2,38],30:[2,38],33:[2,38],36:[2,38],37:[2,38],38:[2,38],39:[2,38],40:[2,38],41:[2,38],42:[2,38],46:[2,38],47:[2,38],48:[2,38],51:[2,38],52:[2,38],53:[2,38],54:[2,38],55:[2,38],56:[2,38]},{5:[2,39],11:[2,39],12:[2,39],14:[2,39],16:[2,39],22:[2,39],30:[2,39],33:[2,39],36:[2,39],37:[2,39],38:[2,39],39:[2,39],40:[2,39],41:[2,39],42:[2,39],46:[2,39],47:[2,39],48:[2,39],51:[2,39],52:[2,39],53:[2,39],54:[2,39],55:[2,39],56:[2,39]},{1:[2,3]},{8:[1,71]},{5:[2,17],8:[2,17],11:[2,17],22:[2,17],27:[2,17],33:[2,17],36:[2,17],38:[2,17],41:[2,17],42:[2,17],46:[2,17],47:[2,17],48:[2,17],51:[2,17],52:[2,17],53:[2,17],55:[2,17],56:[2,17]},{22:[2,20],23:72,24:[2,20],25:73,26:[1,74]},{5:[2,19],8:[2,19],11:[2,19],22:[2,19],27:[2,19],33:[2,19],36:[2,19],38:[2,19],41:[2,19],42:[2,19],46:[2,19],47:[2,19],48:[2,19],51:[2,19],52:[2,19],53:[2,19],55:[2,19],56:[2,19]},{11:[2,26],22:[2,26],33:[2,26],36:[2,26],38:[2,26],41:[2,26],42:[2,26],46:[2,26],47:[2,26],48:[2,26],51:[2,26],52:[2,26],53:[2,26],55:[2,26],56:[2,26]},{12:[1,75]},{11:[2,27],22:[2,27],33:[2,27],36:[2,27],38:[2,27],41:[2,27],42:[2,27],46:[2,27],47:[2,27],48:[2,27],51:[2,27],52:[2,27],53:[2,27],55:[2,27],56:[2,27]},{1:[2,4]},{22:[1,77],24:[1,76]},{22:[2,21],24:[2,21],26:[1,78]},{22:[2,24],24:[2,24],26:[2,24]},{29:[2,30],31:[2,30]},{5:[2,18],8:[2,18],11:[2,18],22:[2,18],27:[2,18],33:[2,18],36:[2,18],38:[2,18],41:[2,18],42:[2,18],46:[2,18],47:[2,18],48:[2,18],51:[2,18],52:[2,18],53:[2,18],55:[2,18],56:[2,18]},{22:[2,20],23:79,24:[2,20],25:73,26:[1,74]},{22:[2,25],24:[2,25],26:[2,25]},{22:[1,77],24:[1,80]},{22:[2,23],24:[2,23],25:81,26:[1,74]},{22:[2,22],24:[2,22],26:[1,78]}],defaultActions:{9:[2,5],10:[2,6],52:[2,1],54:[2,2],63:[2,3],71:[2,4]},parseError:function(t,e){if(!e.recoverable)throw new Error(t);this.trace(t)},parse:function(t){var e=[0],s=[null],n=[],i=this.table,r="",o=0,a=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;n.push(h);var c=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var u,p,d,y,f,m,g,x,b,_,$={};;){if(d=e[e.length-1],this.defaultActions[d]?y=this.defaultActions[d]:(null==u&&(_=void 0,"number"!=typeof(_=this.lexer.lex()||1)&&(_=this.symbols_[_]||_),u=_),y=i[d]&&i[d][u]),void 0===y||!y.length||!y[0]){var E;for(m in b=[],i[d])this.terminals_[m]&&m>2&&b.push("'"+this.terminals_[m]+"'");E=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:h,expected:b})}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+u);switch(y[0]){case 1:e.push(u),s.push(this.lexer.yytext),n.push(this.lexer.yylloc),e.push(y[1]),u=null,p?(u=p,p=null):(a=this.lexer.yyleng,r=this.lexer.yytext,o=this.lexer.yylineno,h=this.lexer.yylloc,l>0&&l--);break;case 2:if(g=this.productions_[y[1]][1],$.$=s[s.length-g],$._$={first_line:n[n.length-(g||1)].first_line,last_line:n[n.length-1].last_line,first_column:n[n.length-(g||1)].first_column,last_column:n[n.length-1].last_column},c&&($._$.range=[n[n.length-(g||1)].range[0],n[n.length-1].range[1]]),void 0!==(f=this.performAction.call($,r,a,o,this.yy,y[1],s,n)))return f;g&&(e=e.slice(0,-1*g*2),s=s.slice(0,-1*g),n=n.slice(0,-1*g)),e.push(this.productions_[y[1]][0]),s.push($.$),n.push($._$),x=i[e[e.length-2]][e[e.length-1]],e.push(x);break;case 3:return!0}}return!0}},e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===n.length?this.yylloc.first_column:0)+n[n.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var s,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],s=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),s)return s;if(this._backtrack){for(var r in i)this[r]=i[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,s,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if((s=this._input.match(this.rules[i[r]]))&&(!e||s[0].length>e[0].length)){if(e=s,n=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(s,i[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[n]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,s,n){switch(s){case 0:case 1:case 2:case 3:case 4:case 5:case 6:return 26;case 7:return t.depth++,22;case 8:return 0==t.depth?this.begin("trail"):t.depth--,24;case 9:return 12;case 10:return this.popState(),29;case 11:return 31;case 12:return 30;case 13:case 14:break;case 15:this.begin("indented");break;case 16:return this.begin("code"),5;case 17:return 56;case 18:t.options[e.yytext]=!0;break;case 19:case 20:this.begin("INITIAL");break;case 21:break;case 22:return 18;case 23:case 24:this.begin("INITIAL");break;case 25:break;case 26:this.begin("rules");break;case 27:return t.depth=0,this.begin("action"),22;case 28:return this.begin("trail"),e.yytext=e.yytext.substr(2,e.yytext.length-4),11;case 29:return e.yytext=e.yytext.substr(2,e.yytext.length-4),11;case 30:return this.begin("rules"),11;case 31:case 32:case 33:case 34:break;case 35:return 12;case 36:return e.yytext=e.yytext.replace(/\\"/g,'"'),55;case 37:return e.yytext=e.yytext.replace(/\\'/g,"'"),55;case 38:return 33;case 39:return 52;case 40:case 41:case 42:return 38;case 43:return 36;case 44:return 37;case 45:return 39;case 46:return 30;case 47:return 40;case 48:return 47;case 49:return 31;case 50:return 48;case 51:return this.begin("conditions"),27;case 52:return 42;case 53:return 41;case 54:return 53;case 55:return e.yytext=e.yytext.replace(/^\\/g,""),53;case 56:return 48;case 57:return 46;case 58:t.options={},this.begin("options");break;case 59:return this.begin("start_condition"),14;case 60:return this.begin("start_condition"),16;case 61:return this.begin("rules"),5;case 62:return 54;case 63:return 51;case 64:return 22;case 65:return 24;case 66:break;case 67:return 8;case 68:return 9}},rules:[/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:\/\/.*)/,/^(?:\/[^ /]*?['"{}'][^ ]*?\/)/,/^(?:"(\\\\|\\"|[^"])*")/,/^(?:'(\\\\|\\'|[^'])*')/,/^(?:[/"'][^{}/"']+)/,/^(?:[^{}/"']+)/,/^(?:\{)/,/^(?:\})/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:>)/,/^(?:,)/,/^(?:\*)/,/^(?:(\r\n|\n|\r)+)/,/^(?:\s+(\r\n|\n|\r)+)/,/^(?:\s+)/,/^(?:%%)/,/^(?:[a-zA-Z0-9_]+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:(\r\n|\n|\r)+)/,/^(?:\s+(\r\n|\n|\r)+)/,/^(?:\s+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:(\r\n|\n|\r)+)/,/^(?:\s+(\r\n|\n|\r)+)/,/^(?:\s+)/,/^(?:.*(\r\n|\n|\r)+)/,/^(?:\{)/,/^(?:%\{(.|(\r\n|\n|\r))*?%\})/,/^(?:%\{(.|(\r\n|\n|\r))*?%\})/,/^(?:.+)/,/^(?:\/\*(.|\n|\r)*?\*\/)/,/^(?:\/\/.*)/,/^(?:(\r\n|\n|\r)+)/,/^(?:\s+)/,/^(?:([a-zA-Z_][a-zA-Z0-9_-]*))/,/^(?:"(\\\\|\\"|[^"])*")/,/^(?:'(\\\\|\\'|[^'])*')/,/^(?:\|)/,/^(?:\[(\\\\|\\\]|[^\]])*\])/,/^(?:\(\?:)/,/^(?:\(\?=)/,/^(?:\(\?!)/,/^(?:\()/,/^(?:\))/,/^(?:\+)/,/^(?:\*)/,/^(?:\?)/,/^(?:\^)/,/^(?:,)/,/^(?:<<EOF>>)/,/^(?:<)/,/^(?:\/!)/,/^(?:\/)/,/^(?:\\([0-7]{1,3}|[rfntvsSbBwWdD\\*+()${}|[\]\/.^?]|c[A-Z]|x[0-9A-F]{2}|u[a-fA-F0-9]{4}))/,/^(?:\\.)/,/^(?:\$)/,/^(?:\.)/,/^(?:%options\b)/,/^(?:%s\b)/,/^(?:%x\b)/,/^(?:%%)/,/^(?:\{\d+(,\s?\d+|,)?\})/,/^(?:\{([a-zA-Z_][a-zA-Z0-9_-]*)\})/,/^(?:\{)/,/^(?:\})/,/^(?:.)/,/^(?:$)/,/^(?:(.|(\r\n|\n|\r))+)/],conditions:{code:{rules:[67,68],inclusive:!1},start_condition:{rules:[22,23,24,25,67],inclusive:!1},options:{rules:[18,19,20,21,67],inclusive:!1},conditions:{rules:[9,10,11,12,67],inclusive:!1},action:{rules:[0,1,2,3,4,5,6,7,8,67],inclusive:!1},indented:{rules:[27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0},trail:{rules:[26,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0},rules:{rules:[13,14,15,16,17,29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0},INITIAL:{rules:[29,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67],inclusive:!0}}};function s(){this.yy={}}return t.lexer=e,s.prototype=t,t.Parser=s,new s}();e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=s(993).readFileSync(s(386).normalize(t[1]),"utf8");return e.parser.parse(n)},s.c[s.s]===t&&e.main(process.argv.slice(1))},834:(t,e,s)=>{"use strict";t.exports=s(232)},271:t=>{"use strict";t.exports=class{constructor(){this.data={}}set(t,e){this.data[t]=e}get(t){return this.data[t]}}},368:(t,e,s)=>{"use strict";const n=s(133);t.exports=class{constructor(){this.transitions=[],this.textRule=null,this.isTrackingNextIndentation=!1}addTransition(t,e,s){return this.transitions.push({token:t,regex:n[t],state:e||null,delimitsText:s||!1}),this}addTextRule(t,e){if(this.textRule)throw new Error("Cannot add more than one text rule to a state.");const s=[];this.transitions.forEach((t=>{t.delimitsText&&s.push(`(${t.regex.source})`)}));const n=`((?!${s.join("|")}).)*`;return this.addTransition(t,e),this.textRule=this.transitions[this.transitions.length-1],this.textRule.regex=new RegExp(n),this}setTrackNextIndentation(t){return this.isTrackingNextIndentation=t,this}}},316:(t,e,s)=>{"use strict";const n=s(567);t.exports=class{constructor(){this.states=n.makeStates(),this.state="base",this.originalText="",this.lines=[],this.indentation=[[0,!1]],this.shouldTrackNextIndentation=!1,this.previousLevelOfIndentation=0,this.reset()}reset(){this.yytext="",this.yylloc={first_column:1,first_line:1,last_column:1,last_line:1},this.yylineno=1}lex(){if(this.isAtTheEndOfText()){this.yytext="";const t=this.indentation.pop();return t&&t[1]?"Dedent":"EndOfInput"}return this.isAtTheEndOfLine()?this.isAtTheEndOfText()?"Invalid":this.lexNextLine():this.lexNextTokenOnCurrentLine()}lexNextTokenOnCurrentLine(){const t=this.getCurrentLineIndentation();if(this.shouldTrackNextIndentation&&t>this.previousLevelOfIndentation)return this.indentation.push([t,!0]),this.shouldTrackNextIndentation=!1,this.yylloc.first_column=this.yylloc.last_column,this.yylloc.last_column+=t,this.yytext="","Indent";if(t<this.getLastRecordedIndentation()[0]){if(this.indentation.pop()[1])return this.yytext="",this.previousLevelOfIndentation=this.getLastRecordedIndentation()[0],"Dedent";this.lexNextTokenOnCurrentLine()}if(t===this.previousLevelOfIndentation&&1===this.yylloc.last_column&&(this.yylloc.last_column+=t),this.getCurrentLine().substring(this.yylloc.last_column-1).startsWith("//"))return this.lexNextLine();for(const e of this.getState().transitions){const s=this.getCurrentLine().substring(this.yylloc.last_column-1).match(e.regex);if(null===s||0!==s.index)continue;const n=s[0];this.yytext=this.getCurrentLine().substr(this.yylloc.last_column-1,n.length),"String"===e.token&&(this.yytext=this.yytext.substring(1,this.yytext.length-1).replace(/\\/g,"")),this.yylloc.first_column=this.yylloc.last_column,this.yylloc.last_column+=n.length,e.state&&(this.setState(e.state),this.shouldTrackNextIndentation&&this.getLastRecordedIndentation()[0]<t&&this.indentation.push([t,!1]));const i=this.getCurrentLine().substring(this.yylloc.last_column-1).match(/^\s*/);return 0!==i.length&&(2==i[0].length?this.yylloc.last_column+=1:this.yylloc.last_column+=i[0].length),e.token}return"Invalid"}lexNextLine(){this.yylineno+=1;const t=this.getCurrentLine().replace(/\t/,"    ");return this.lines[this.yylineno-1]=t,this.previousLevelOfIndentation=this.getLastRecordedIndentation()[0],this.yytext="",this.yylloc={first_column:1,first_line:this.yylineno,last_column:1,last_line:this.yylineno},this.lex()}setState(t){if(void 0===this.states[t])throw new Error(`Cannot set the unknown state [${t}]`);this.state=t,this.getState().isTrackingNextIndentation&&(this.shouldTrackNextIndentation=!0)}setInput(t){this.originalText=t.replace(/(\r\n)/g,"\n").replace(/\r/g,"\n").replace(/[\n\r]+$/,""),this.lines=this.originalText.split("\n"),this.reset()}getState(){return this.states[this.state]}getCurrentLine(){return this.lines[this.yylineno-1]}setCurrentLine(t){this.lines[this.yylineno-1]=t}getCurrentLineIndentation(){const t=this.getCurrentLine().match(/^(\s*)/g);return null===t&&null===t[0]?0:t[0].length}getLastRecordedIndentation(){return 0===this.indentation.length?[0,!1]:this.indentation[this.indentation.length-1]}isAtTheEndOfText(){return this.isAtTheEndOfLine()&&this.yylloc.first_line>=this.lines.length}isAtTheEndOfLine(){return this.yylloc.last_column>this.getCurrentLine().length}}},567:(t,e,s)=>{"use strict";const n=s(368);t.exports={makeStates:function(){return{base:(new n).addTransition("BeginCommand","command",!0).addTransition("OptionStart","option",!0).addTransition("BeginInlineExp","inlineExpression",!0).addTransition("ShortcutOption","shortcutOption").addTextRule("Text"),shortcutOption:(new n).setTrackNextIndentation(!0).addTransition("BeginCommand","expression",!0).addTextRule("Text","base"),command:(new n).addTransition("If","expression").addTransition("Else").addTransition("ElseIf","expression").addTransition("EndIf").addTransition("Set","assignment").addTransition("EndCommand","base",!0).addTransition("Identifier","commandOrExpression",!0).addTextRule("Text"),commandOrExpression:(new n).addTransition("EndCommand","base",!0).addTransition("LeftParen").addTransition("Variable").addTransition("Number").addTransition("String").addTransition("True").addTransition("False").addTransition("Identifier").addTransition("Comma").addTransition("RightParen"),assignment:(new n).addTransition("Variable").addTransition("EqualToOrAssign","expression").addTransition("AddAssign","expression").addTransition("MinusAssign","expression").addTransition("MultiplyAssign","expression").addTransition("DivideAssign","expression"),expression:(new n).addTransition("EndCommand","base").addTransition("Number").addTransition("String").addTransition("LeftParen").addTransition("RightParen").addTransition("EqualTo").addTransition("EqualToOrAssign").addTransition("NotEqualTo").addTransition("GreaterThanOrEqualTo").addTransition("GreaterThan").addTransition("LessThanOrEqualTo").addTransition("LessThan").addTransition("Add").addTransition("Minus").addTransition("Multiply").addTransition("Divide").addTransition("And").addTransition("Or").addTransition("Xor").addTransition("Not").addTransition("Variable").addTransition("Comma").addTransition("True").addTransition("False").addTransition("Null").addTransition("Identifier").addTextRule(),option:(new n).addTransition("OptionEnd","base",!0).addTransition("OptionDelimit","optionDestination",!0).addTextRule("Text"),optionDestination:(new n).addTransition("Identifier").addTransition("OptionEnd","base"),inlineExpression:(new n).addTransition("EndInlineExp","base").addTransition("Number").addTransition("String").addTransition("LeftParen").addTransition("RightParen").addTransition("Variable").addTransition("Add").addTransition("Minus").addTransition("Multiply").addTransition("Divide").addTextRule("Text","base")}}}},133:t=>{"use strict";t.exports={Whitespace:null,Indent:null,Dedent:null,EndOfLine:null,EndOfInput:null,UnaryMinus:null,Number:/-?[0-9]+(\.[0-9+])?/,String:/"([^"\\]*(?:\\.[^"\\]*)*)"/,BeginCommand:/<</,EndCommand:/>>/,Variable:/\$([A-Za-z0-9_.])+/,ShortcutOption:/->/,OptionStart:/\[\[/,OptionDelimit:/\|/,OptionEnd:/\]\]/,If:/if(?!\w)/,ElseIf:/elseif(?!\w)/,Else:/else(?!\w)/,EndIf:/endif(?!\w)/,Set:/set(?!\w)/,True:/true(?!\w)/,False:/false(?!\w)/,Null:/null(?!\w)/,LeftParen:/\(/,RightParen:/\)/,Comma:/,/,EqualTo:/(==|is(?!\w)|eq(?!\w))/,GreaterThan:/(>|gt(?!\w))/,GreaterThanOrEqualTo:/(>=|gte(?!\w))/,LessThan:/(<|lt(?!\w))/,LessThanOrEqualTo:/(<=|lte(?!\w))/,NotEqualTo:/(!=|neq(?!\w))/,Or:/(\|\||or(?!\w))/,And:/(&&|and(?!\w))/,Xor:/(\^|xor(?!\w))/,Not:/(!|not(?!\w))/,EqualToOrAssign:/(=|to(?!\w))/,Add:/\+/,Minus:/-/,Multiply:/\*/,Divide:/\//,AddAssign:/\+=/,MinusAssign:/-=/,MultiplyAssign:/\*=/,DivideAssign:/\/=/,Comment:"//",Identifier:/[a-zA-Z0-9_:.]+/,CommandCall:/([^>]|(?!>)[^>]+>)+(?=>>)/,Text:/.*/,BeginInlineExp:/\{/,EndInlineExp:/\}/}},304:t=>{"use strict";class e{}class s{}class n{}class i{}class r{}class o{}class a{}class l{}class h{}class c{}class u{}t.exports={types:{Text:e,Shortcut:s,Jump:n,Option:i,Conditional:r,Assignment:o,Literal:a,Expression:l,Command:c,FunctionCall:h,InlineExpression:u},RootNode:class{constructor(t){this.name="RootNode",this.dialogNodes=t||[]}},DialogNode:class{constructor(t,e){this.type="DialogNode",this.name=e||null,this.content=t}},DialogShortcutNode:class extends s{constructor(t,e,s){super(),this.type="DialogShortcutNode",this.text=t,this.content=e,this.lineNum=s?s.first_line:-1}},ConditionalDialogShortcutNode:class extends s{constructor(t,e,s,n){super(),this.type="ConditionalDialogShortcutNode",this.text=t,this.content=e,this.conditionalExpression=s,this.lineNum=n?n.first_line:-1}},IfNode:class extends r{constructor(t,e){super(),this.type="IfNode",this.expression=t,this.statement=e}},IfElseNode:class extends r{constructor(t,e,s){super(),this.type="IfElseNode",this.expression=t,this.statement=e,this.elseStatement=s}},ElseNode:class extends r{constructor(t){super(),this.type="ElseNode",this.statement=t}},ElseIfNode:class extends r{constructor(t,e,s){super(),this.type="ElseIfNode",this.expression=t,this.statement=e,this.elseStatement=s}},TextNode:class extends e{constructor(t,e){super(),this.type="TextNode",this.text=t,this.lineNum=e?e.first_line:-1}},JumpNode:class extends n{constructor(t,e){super(),this.type="JumpNode",this.identifier=t,this.lineNum=e?e.first_line:-1,this.selectable=!0}},OptionNode:class extends i{constructor(t,e,s){super(),this.type="OptionNode",this.text=t||null,this.identifier=e||this.text,this.lineNum=s?s.first_line:-1,this.selectable=!0}},NumericLiteralNode:class extends a{constructor(t){super(),this.type="NumericLiteralNode",this.numericLiteral=t}},StringLiteralNode:class extends a{constructor(t){super(),this.type="StringLiteralNode",this.stringLiteral=t}},BooleanLiteralNode:class extends a{constructor(t){super(),this.type="BooleanLiteralNode",this.booleanLiteral=t}},VariableNode:class extends a{constructor(t){super(),this.type="VariableNode",this.variableName=t}},UnaryMinusExpressionNode:class extends l{constructor(t){super(),this.type="UnaryMinusExpressionNode",this.expression=t}},ArithmeticExpressionNode:class extends l{constructor(t){super(),this.type="ArithmeticExpressionNode",this.expression=t}},ArithmeticExpressionAddNode:class extends l{constructor(t,e){super(),this.type="ArithmeticExpressionAddNode",this.expression1=t,this.expression2=e}},ArithmeticExpressionMinusNode:class extends l{constructor(t,e){super(),this.type="ArithmeticExpressionMinusNode",this.expression1=t,this.expression2=e}},ArithmeticExpressionMultiplyNode:class extends l{constructor(t,e){super(),this.type="ArithmeticExpressionMultiplyNode",this.expression1=t,this.expression2=e}},ArithmeticExpressionDivideNode:class{constructor(t,e){this.type="ArithmeticExpressionDivideNode",this.expression1=t,this.expression2=e}},BooleanExpressionNode:class extends l{constructor(t){super(),this.type="BooleanExpressionNode",this.booleanExpression=t}},NegatedBooleanExpressionNode:class extends l{constructor(t){super(),this.type="NegatedBooleanExpressionNode",this.booleanExpression=t}},BooleanOrExpressionNode:class extends l{constructor(t,e){super(),this.type="BooleanOrExpressionNode",this.expression1=t,this.expression2=e}},BooleanAndExpressionNode:class extends l{constructor(t,e){super(),this.type="BooleanAndExpressionNode",this.expression1=t,this.expression2=e}},BooleanXorExpressionNode:class extends l{constructor(t,e){super(),this.type="BooleanXorExpressionNode",this.expression1=t,this.expression2=e}},EqualToExpressionNode:class extends l{constructor(t,e){super(),this.type="EqualToExpressionNode",this.expression1=t,this.expression2=e}},NotEqualToExpressionNode:class extends l{constructor(t,e){super(),this.type="EqualToExpressionNode",this.expression1=t,this.expression2=e}},GreaterThanExpressionNode:class extends l{constructor(t,e){super(),this.type="GreaterThanExpressionNode",this.expression1=t,this.expression2=e}},GreaterThanOrEqualToExpressionNode:class extends l{constructor(t,e){super(),this.type="GreaterThanOrEqualToExpressionNode",this.expression1=t,this.expression2=e}},LessThanExpressionNode:class extends l{constructor(t,e){super(),this.type="LessThanExpressionNode",this.expression1=t,this.expression2=e}},LessThanOrEqualToExpressionNode:class extends l{constructor(t,e){super(),this.type="LessThanOrEqualToExpressionNode",this.expression1=t,this.expression2=e}},SetVariableEqualToNode:class extends o{constructor(t,e){super(),this.type="SetVariableEqualToNode",this.variableName=t,this.expression=e}},SetVariableAddNode:class extends o{constructor(t,e){super(),this.type="SetVariableAddNode",this.variableName=t,this.expression=e}},SetVariableMinusNode:class extends o{constructor(t,e){super(),this.type="SetVariableMinusNode",this.variableName=t,this.expression=e}},SetVariableMultipyNode:class extends o{constructor(t,e){super(),this.type="SetVariableMultipyNode",this.variableName=t,this.expression=e}},SetVariableDivideNode:class extends o{constructor(t,e){super(),this.type="SetVariableDivideNode",this.variableName=t,this.expression=e}},FunctionResultNode:class extends h{constructor(t,e){super(),this.type="FunctionResultNode",this.functionName=t,this.args=e,this.lineNum=-1}},CommandNode:class extends c{constructor(t,e){super(),this.type="CommandNode",this.command=t,this.lineNum=e?e.first_line:-1}},InlineExpressionNode:class extends u{constructor(t,e){super(),this.type="InlineExpressionNode",this.expression=t,this.lineNum=e?e.first_line:-1}}}},816:(t,e,s)=>{"use strict";const n=s(972).Parser,i=s(304),r=s(316),o=new n({operators:[["left","Comma"],["left","EqualToOrAssign","AddAssign","MinusAssign","MultiplyAssign","DivideAssign"],["left","Or"],["left","And"],["left","Xor"],["left","EqualTo","GreaterThan","GreaterThanOrEqualTo","LessThan","LessThanOrEqualTo","NotEqualTo"],["left","Add","Minus"],["left","Multiply","Divide"],["left","Not"],["left","UMINUS"],["left","LeftParen","RightParen"]],start:["node"],bnf:{node:[["statements EndOfInput","JSON.stringify($1, null, '  '); return $1;"]],statements:[["statements conditionalStatement","$$ = $1.concat([$2]);"],["statements statement","$$ = $1.concat([$2]);"],["conditionalStatement","$$ = [$1];"],["statement","$$ = [$1];"]],conditionalStatement:[["BeginCommand If expression EndCommand statements BeginCommand EndIf EndCommand","$$ = new yy.IfNode($3, $5);"],["BeginCommand If expression EndCommand statements additionalConditionalStatements","$$ = new yy.IfElseNode($3, $5, $6);"]],additionalConditionalStatements:[["BeginCommand Else EndCommand statements BeginCommand EndIf EndCommand","$$ = new yy.ElseNode($4);"],["BeginCommand ElseIf expression EndCommand statements BeginCommand EndIf EndCommand","$$ = new yy.ElseIfNode($3, $5);"],["BeginCommand ElseIf expression EndCommand statements additionalConditionalStatements","$$ = new yy.ElseIfNode($3, $5, $6);"]],statement:[["shortcut","$$ = $1;"],["functionCall","$$ = $1;"],["jump","$$ = $1;"],["option","$$ = $1;"],["assignment","$$ = $1;"],["Text","$$ = new yy.TextNode($1, @$);"],["inlineExpression","$$ = $1;"]],shortcut:[["ShortcutOption Text Indent statements Dedent","$$ = new yy.DialogShortcutNode($2, $4, @$);"],["ShortcutOption Text BeginCommand If expression EndCommand Indent statements Dedent","$$ = new yy.ConditionalDialogShortcutNode($2, $8, $5, @$);"]],functionCall:[["BeginCommand Identifier EndCommand","$$ = new yy.FunctionResultNode($2, []);"],["BeginCommand Identifier LeftParen RightParen EndCommand","$$ = new yy.FunctionResultNode($2, []);"],["BeginCommand Identifier LeftParen parenArguments RightParen EndCommand","$$ = new yy.FunctionResultNode($2, $4);"],["BeginCommand Identifier openArguments EndCommand","$$ = new yy.FunctionResultNode($2, $3);"]],jump:[["OptionStart Text OptionEnd","$$ = new yy.JumpNode($2, @$);"]],option:[["OptionStart Text OptionDelimit Identifier OptionEnd","$$ = new yy.OptionNode($2, $4, @$);"]],assignment:[["BeginCommand Set Variable EqualToOrAssign expression EndCommand","$$ = new yy.SetVariableEqualToNode($3.substring(1), $5);"],["BeginCommand Set Variable AddAssign expression EndCommand","$$ = new yy.SetVariableAddNode($3.substring(1), $5);"],["BeginCommand Set Variable MinusAssign expression EndCommand","$$ = new yy.SetVariableMinusNode($3.substring(1), $5);"],["BeginCommand Set Variable MultiplyAssign expression EndCommand","$$ = new yy.SetVariableMultipyNode($3.substring(1), $5);"],["BeginCommand Set Variable DivideAssign expression EndCommand","$$ = new yy.SetVariableDivideNode($3.substring(1), $5);"]],expression:[["True","$$ = new yy.BooleanLiteralNode($1);"],["False","$$ = new yy.BooleanLiteralNode($1);"],["Number","$$ = new yy.NumericLiteralNode($1);"],["String","$$ = new yy.StringLiteralNode($1);"],["Null","$$ = new yy.NullLiteralNode($1);"],["Variable","$$ = new yy.VariableNode($1.substring(1));"],["UnaryMinus Number %prec UnaryMinus","$$ = new yy.UnaryMinusExpressionNode($2);"],["UnaryMinus Variable %prec UnaryMinus","$$ = new yy.UnaryMinusExpressionNode($2.substring(1));"],["Not expression","$$ = new yy.NegatedBooleanExpressionNode($2);"],["LeftParen expression RightParen","$$ = new yy.ArithmeticExpressionNode($2);"],["expression Add expression","$$ = new yy.ArithmeticExpressionAddNode($1, $3);"],["expression Minus expression","$$ = new yy.ArithmeticExpressionMinusNode($1, $3);"],["expression Multiply expression","$$ = new yy.ArithmeticExpressionMultiplyNode($1, $3);"],["expression Divide expression","$$ = new yy.ArithmeticExpressionDivideNode($1, $3);"],["expression Or expression","$$ = new yy.BooleanOrExpressionNode($1, $3);"],["expression And expression","$$ = new yy.BooleanAndExpressionNode($1, $3);"],["expression Xor expression","$$ = new yy.BooleanXorExpressionNode($1, $3);"],["expression EqualTo expression","$$ = new yy.EqualToExpressionNode($1, $3);"],["expression NotEqualTo expression","$$ = new yy.NotEqualToExpressionNode($1, $3);"],["expression GreaterThan expression","$$ = new yy.GreaterThanExpressionNode($1, $3);"],["expression GreaterThanOrEqualTo expression","$$ = new yy.GreaterThanOrEqualToExpressionNode($1, $3);"],["expression LessThan expression","$$ = new yy.LessThanExpressionNode($1, $3);"],["expression LessThanOrEqualTo expression","$$ = new yy.LessThanOrEqualToExpressionNode($1, $3);"],["functionResultExpression","$$ = $1;"]],functionResultExpression:[["Identifier LeftParen parenArguments RightParen","$$ = new yy.FunctionResultNode($1, $3);"]],parenArguments:[["parenArguments Comma argument","$$ = $1.concat([$3]);"],["argument","$$ = [$1];"]],openArguments:[["openArguments argument","$$ = $1.concat([$2]);"],["argument","$$ = [$1];"]],argument:[["Identifier","$$ = new yy.TextNode($1);"],["Number","$$ = new yy.NumericLiteralNode($1);"],["String","$$ = new yy.StringLiteralNode($1);"],["Variable","$$ = new yy.VariableNode($1.substring(1));"],["True","$$ = new yy.BooleanLiteralNode($1);"],["False","$$ = new yy.BooleanLiteralNode($1);"],["Null","$$ = new yy.NullLiteralNode($1);"]],inlineExpression:[["BeginInlineExp expression EndInlineExp","$$ = new yy.InlineExpressionNode($2, @$);"]]}});o.lexer=new r,o.yy=i,t.exports=o},921:t=>{"use strict";class e{}t.exports={Result:e,TextResult:class extends e{constructor(t,e,s){super(),this.text=t,this.data=e,this.lineNum=s}},CommandResult:class extends e{constructor(t,e,s){super(),this.name=t,this.args=e,this.result=s}},OptionsResult:class extends e{constructor(t,e){super(),this.options=t,this.lineNum=e,this.selected=-1}select(t){if(t<0||t>=this.options.length)throw new Error(`Cannot select option #${t}, there are only ${this.options.length} options`);this.selected=t}}}},232:(t,e,s)=>{"use strict";const n=s(816),i=s(921),r=s(271),o=s(304).types;t.exports={Runner:class{constructor(){this.yarnNodes={},this.variables=new r,this.functions={},this.visited={},this.registerFunction("visited",(t=>!!this.visited[t[0]]))}load(t){for(const e of t)this.yarnNodes[e.title]={title:e.title,tags:e.tags,body:e.body}}setVariableStorage(t){if("function"!=typeof t.set||"function"!=typeof t.get)throw new Error('Variable Storage object must contain both a "set" and "get" function');this.variables=t}registerFunction(t,e){if("function"!=typeof e)throw new Error("Registered function must be...well...a function");this.functions[t]=e}*run(t){const e=this.yarnNodes[t];if(void 0===e)throw new Error(`Node "${t}" does not exist`);this.visited[t]=!0;const s=Array.from(n.parse(e.body)),i={title:e.title,tags:e.tags.split(" "),body:e.body};yield*this.evalNodes(s,i)}*evalNodes(t,e){if(!t)return;let s=[],n=[],r=null,a=null;for(var l=0;l<t.length;l++){let p=t[l],d=t[l+1];if(r instanceof o.Shortcut&&!(p instanceof o.Shortcut)&&(yield*this.handleShortcuts(n,e),n=[]),p instanceof o.Jump)return void(yield*this.run(p.identifier));if(p instanceof o.Option)s.push(p);else if(p instanceof o.Text)a?(a.text+=p.text,null!=d&&d instanceof o.InlineExpression!=0&&p.lineNum===d.lineNum||(yield a,a=null)):d&&d instanceof o.InlineExpression&&p.lineNum===d.lineNum?a=new i.TextResult(p.text,e,p.lineNum):yield new i.TextResult(p.text,e,p.lineNum);else if(p instanceof o.InlineExpression){let t=this.evaluateExpressionOrLiteral(p.expression).toString();a?(a.text+=t,null!=d&&d instanceof o.Text!=0&&p.lineNum===d.lineNum||(yield a,a=null)):d&&d instanceof o.Text&&p.lineNum===d.lineNum?a=new i.TextResult(t,e,p.lineNum):yield new i.TextResult(t,e,p.lineNum)}else if(p instanceof o.Shortcut)n.push(p);else if(p instanceof o.Assignment)this.evaluateAssignment(p);else if(p instanceof o.Conditional){let t=this.evaluateConditional(p);if(t){t=t;let n=[];for(var h=0;h<t.length;h++)t[h]instanceof o.Option?s.push(t[h]):n.push(t[h]);yield*this.evalNodes(n,e)}}else if(p instanceof o.FunctionCall){if("stop"===p.functionName)return;var c=null,u=p.args?p.args.map(this.evaluateExpressionOrLiteral,this):[];this.functions[p.functionName]&&(c=this.functions[p.functionName](u)),yield new i.CommandResult(p.functionName,u,c)}r=p}n.length>0&&(yield*this.handleShortcuts(n,e)),s.length>0&&(yield*this.handleOptions(s))}*handleOptions(t){const e=new i.OptionsResult(t.map((t=>t.text)),t.map((t=>t.lineNum||-1)));if(yield e,-1!==e.selected){const s=t[e.selected];yield*this.run(s.identifier)}}*handleShortcuts(t,e){const s=t.filter((t=>"ConditionalDialogShortcutNode"!==t.type||this.evaluateExpressionOrLiteral(t.conditionalExpression)));if(0===s.length)return;const n=new i.OptionsResult(s.map((t=>t.text)),s.map((t=>t.lineNum||-1)));if(yield n,-1!==n.selected){const t=s[n.selected];t.content&&(yield*this.evalNodes(t.content,e))}}evaluateAssignment(t){let e=this.evaluateExpressionOrLiteral(t.expression);const s=this.variables.get(t.variableName);if("SetVariableAddNode"===t.type)e+=s;else if("SetVariableMinusNode"===t.type)e-=s;else if("SetVariableMultiplyNode"===t.type)e*=s;else if("SetVariableDivideNode"===t.type)e/=s;else if("SetVariableEqualToNode"!==t.type)throw new Error(`I don't recognize assignment type ${t.type}`);this.variables.set(t.variableName,e)}evaluateConditional(t){if("IfNode"===t.type){if(this.evaluateExpressionOrLiteral(t.expression))return t.statement}else if("IfElseNode"===t.type||"ElseIfNode"===t.type){if(this.evaluateExpressionOrLiteral(t.expression))return t.statement;if(t.elseStatement)return this.evaluateConditional(t.elseStatement)}else if("ElseNode"===t.type)return t.statement;return null}evaluateExpressionOrLiteral(t){if(t instanceof o.Expression){if("UnaryMinusExpressionNode"===t.type)return-1*this.evaluateExpressionOrLiteral(t.expression);if("ArithmeticExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression);if("ArithmeticExpressionAddNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)+this.evaluateExpressionOrLiteral(t.expression2);if("ArithmeticExpressionMinusNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)-this.evaluateExpressionOrLiteral(t.expression2);if("ArithmeticExpressionMultiplyNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)*this.evaluateExpressionOrLiteral(t.expression2);if("ArithmeticExpressionDivideNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)/this.evaluateExpressionOrLiteral(t.expression2);if("BooleanExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.booleanExpression);if("NegatedBooleanExpressionNode"===t.type)return!this.evaluateExpressionOrLiteral(t.booleanExpression);if("BooleanOrExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)||this.evaluateExpressionOrLiteral(t.expression2);if("BooleanAndExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)&&this.evaluateExpressionOrLiteral(t.expression2);if("BooleanXorExpressionNode"===t.type)return!this.evaluateExpressionOrLiteral(t.expression1)!=!this.evaluateExpressionOrLiteral(t.expression2);if("EqualToExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)===this.evaluateExpressionOrLiteral(t.expression2);if("NotEqualToExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)!==this.evaluateExpressionOrLiteral(t.expression2);if("GreaterThanExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)>this.evaluateExpressionOrLiteral(t.expression2);if("GreaterThanOrEqualToExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)>=this.evaluateExpressionOrLiteral(t.expression2);if("LessThanExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)<this.evaluateExpressionOrLiteral(t.expression2);if("LessThenOrEqualToExpressionNode"===t.type)return this.evaluateExpressionOrLiteral(t.expression1)<=this.evaluateExpressionOrLiteral(t.expression2);throw new Error(`I don't recognize expression type ${t.type}`)}if(t instanceof o.Text)return t.text;if(t instanceof o.Literal){if("NumericLiteralNode"===t.type)return parseFloat(t.numericLiteral);if("StringLiteralNode"===t.type)return t.stringLiteral;if("BooleanLiteralNode"===t.type)return"true"===t.booleanLiteral;if("VariableNode"===t.type)return this.variables.get(t.variableName);throw new Error(`I don't recognize literal type ${t.type}`)}if("FunctionResultNode"===t.type){if(this.functions[t.functionName])return this.functions[t.functionName](t.args.map(this.evaluateExpressionOrLiteral,this));throw new Error(`Function "${t.functionName}" not found`)}throw new Error(`I don't recognize expression/literal type ${t.type}`)}},TextResult:i.TextResult,CommandResult:i.CommandResult,OptionsResult:i.OptionsResult}},993:()=>{},386:()=>{}},e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,s),i.loaded=!0,i.exports}return s.c=e,s.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),s(s.s=834)})();